<!doctype html><html lang=fr class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Tous les trucs & astuces de Jerem"><meta name=author content="Jérémy DELGADO"><link href=https://wiki.jdelgado.fr/linux/advanced/varnish/config/ rel=canonical><link href=../../systemd/create_unit/ rel=prev><link href=../../../automatisation/ansible/ansible/ rel=next><link rel=icon href=../../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.49"><title>Config varnish - Jérémy Wiki</title><link rel=stylesheet href=../../../../assets/stylesheets/main.6f8fc17f.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#config-varnish class=md-skip> Aller au contenu </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=En-tête> <a href=../../../.. title="Jérémy Wiki" class="md-header__button md-logo" aria-label="Jérémy Wiki" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Jérémy Wiki </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Config varnish </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Rechercher placeholder=Rechercher autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Recherche> <button type=reset class="md-search__icon md-icon" title=Effacer aria-label=Effacer tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initialisation de la recherche </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/PixiBixi/pixibixi.github.io title="Aller au dépôt" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Onglets data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../../.. class=md-tabs__link> Sommaire </a> </li> <li class=md-tabs__item> <a href=../../../../docker/ class=md-tabs__link> Docker : L'indispensable </a> </li> <li class=md-tabs__item> <a href=../../../../guacamole/ class=md-tabs__link> Guacamole : l'outil idéal pour établir des sessions RDP, SSH et VNC </a> </li> <li class=md-tabs__item> <a href=../../../../cloud/aws/cli/ class=md-tabs__link> Cloud </a> </li> <li class=md-tabs__item> <a href=../../../../code/st3/ class=md-tabs__link> Code </a> </li> <li class=md-tabs__item> <a href=../../../../docker/use_proxy/ class=md-tabs__link> Docker </a> </li> <li class=md-tabs__item> <a href=../../../../gitlab/cli/ class=md-tabs__link> Gitlab </a> </li> <li class=md-tabs__item> <a href=../../../../hardware/hdd/wd/fix_hdd/ class=md-tabs__link> Hardware </a> </li> <li class=md-tabs__item> <a href=../../../../hypervisor/esxi/upload_iso_cli/ class=md-tabs__link> Hypervisor </a> </li> <li class=md-tabs__item> <a href=../../../../kafka/kafkactl/ class=md-tabs__link> Kafka </a> </li> <li class=md-tabs__item> <a href=../../../../kubernetes/advanced_commands/ class=md-tabs__link> Kubernetes </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=../../lock_ddos/ class=md-tabs__link> Linux </a> </li> <li class=md-tabs__item> <a href=../../../../mac/brew/ class=md-tabs__link> Mac </a> </li> <li class=md-tabs__item> <a href=../../../../mess/github_template/ class=md-tabs__link> Mess </a> </li> <li class=md-tabs__item> <a href=../../../../misc/sources/ class=md-tabs__link> Misc </a> </li> <li class=md-tabs__item> <a href=../../../../networking/list_prefix_asn/ class=md-tabs__link> Networking </a> </li> <li class=md-tabs__item> <a href=../../../../pfsense/update_bogon_list/ class=md-tabs__link> Pfsense </a> </li> <li class=md-tabs__item> <a href=../../../../ssh/pubkey_rfc4716/ class=md-tabs__link> Ssh </a> </li> <li class=md-tabs__item> <a href=../../../../web/benchmark/benchmark_random_querystring/ class=md-tabs__link> Web </a> </li> <li class=md-tabs__item> <a href=../../../../windows/desktop/soft/ads_skype/ class=md-tabs__link> Windows </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../../.. title="Jérémy Wiki" class="md-nav__button md-logo" aria-label="Jérémy Wiki" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Jérémy Wiki </label> <div class=md-nav__source> <a href=https://github.com/PixiBixi/pixibixi.github.io title="Aller au dépôt" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../.. class=md-nav__link> <span class=md-ellipsis> Sommaire </span> </a> </li> <li class=md-nav__item> <a href=../../../../docker/ class=md-nav__link> <span class=md-ellipsis> Docker : L'indispensable </span> </a> </li> <li class=md-nav__item> <a href=../../../../guacamole/ class=md-nav__link> <span class=md-ellipsis> Guacamole : l'outil idéal pour établir des sessions RDP, SSH et VNC </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Cloud </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Cloud </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_1> <label class=md-nav__link for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class=md-ellipsis> Aws </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Aws </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cloud/aws/cli/ class=md-nav__link> <span class=md-ellipsis> AWS : CLI </span> </a> </li> <li class=md-nav__item> <a href=../../../../cloud/aws/decode_error_aws/ class=md-nav__link> <span class=md-ellipsis> Decoder un message d'erreur AWS </span> </a> </li> <li class=md-nav__item> <a href=../../../../cloud/aws/glossaire/ class=md-nav__link> <span class=md-ellipsis> Glossaire du vocabulaire AWS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Gcloud </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Gcloud </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../cloud/gcloud/follow_gke_upgrade/ class=md-nav__link> <span class=md-ellipsis> Suivre l'upgrade de son cluster GKE </span> </a> </li> <li class=md-nav__item> <a href=../../../../cloud/gcloud/misc_commands/ class=md-nav__link> <span class=md-ellipsis> Commandes utiles pour la CLI Gcloud </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Code </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Code </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../code/st3/ class=md-nav__link> <span class=md-ellipsis> St3 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Docker </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docker/use_proxy/ class=md-nav__link> <span class=md-ellipsis> Utiliser un proxy pour pull les images Docker </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6_2> <label class=md-nav__link for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class=md-ellipsis> Compose </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Compose </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../docker/compose/templates/ class=md-nav__link> <span class=md-ellipsis> docker-compose.yml </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Gitlab </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Gitlab </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../gitlab/cli/ class=md-nav__link> <span class=md-ellipsis> Utilisation de la CLI officielle </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_2> <label class=md-nav__link for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class=md-ellipsis> Ci </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> Ci </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../gitlab/ci/optimize/ class=md-nav__link> <span class=md-ellipsis> Optimiser sa CI Gitlab </span> </a> </li> <li class=md-nav__item> <a href=../../../../gitlab/ci/scan_image/ class=md-nav__link> <span class=md-ellipsis> Intégrer un scan d'image à sa CI </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Hardware </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_1> <label class=md-nav__link for=__nav_8_1 id=__nav_8_1_label tabindex=0> <span class=md-ellipsis> Hdd </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> Hdd </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_1_1> <label class=md-nav__link for=__nav_8_1_1 id=__nav_8_1_1_label tabindex=0> <span class=md-ellipsis> Wd </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_8_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_1_1> <span class="md-nav__icon md-icon"></span> Wd </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hardware/hdd/wd/fix_hdd/ class=md-nav__link> <span class=md-ellipsis> Fix hdd </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_2> <label class=md-nav__link for=__nav_8_2 id=__nav_8_2_label tabindex=0> <span class=md-ellipsis> Nic </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_2_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> Nic </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_2_1> <label class=md-nav__link for=__nav_8_2_1 id=__nav_8_2_1_label tabindex=0> <span class=md-ellipsis> Mellanox </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_8_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2_1> <span class="md-nav__icon md-icon"></span> Mellanox </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hardware/nic/mellanox/identify_and_upgrade_firmware/ class=md-nav__link> <span class=md-ellipsis> Identifier and upgrade son firmware Mellanox </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_3> <label class=md-nav__link for=__nav_8_3 id=__nav_8_3_label tabindex=0> <span class=md-ellipsis> San </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_3_label aria-expanded=false> <label class=md-nav__title for=__nav_8_3> <span class="md-nav__icon md-icon"></span> San </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_3_1> <label class=md-nav__link for=__nav_8_3_1 id=__nav_8_3_1_label tabindex=0> <span class=md-ellipsis> Netapp </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_8_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_3_1> <span class="md-nav__icon md-icon"></span> Netapp </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hardware/san/netapp/blink_led_hdd/ class=md-nav__link> <span class=md-ellipsis> Blink led hdd </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_4> <label class=md-nav__link for=__nav_8_4 id=__nav_8_4_label tabindex=0> <span class=md-ellipsis> Server </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_4_label aria-expanded=false> <label class=md-nav__title for=__nav_8_4> <span class="md-nav__icon md-icon"></span> Server </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8_4_1> <label class=md-nav__link for=__nav_8_4_1 id=__nav_8_4_1_label tabindex=0> <span class=md-ellipsis> Hp </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_8_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_4_1> <span class="md-nav__icon md-icon"></span> Hp </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hardware/server/hp/cli_sas/ class=md-nav__link> <span class=md-ellipsis> Commandes HP Smart Array en CLI (Utilisable pour un ESX...) </span> </a> </li> <li class=md-nav__item> <a href=../../../../hardware/server/hp/ilo_key/ class=md-nav__link> <span class=md-ellipsis> Clé ILO Adavanced </span> </a> </li> <li class=md-nav__item> <a href=../../../../hardware/server/hp/run_ilo/ class=md-nav__link> <span class=md-ellipsis> Lancer la console iLO depuis un Mac </span> </a> </li> <li class=md-nav__item> <a href=../../../../hardware/server/hp/run_old_ilo/ class=md-nav__link> <span class=md-ellipsis> Lancer une ancienne console iLO </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Hypervisor </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Hypervisor </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9_1> <label class=md-nav__link for=__nav_9_1 id=__nav_9_1_label tabindex=0> <span class=md-ellipsis> Esxi </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1> <span class="md-nav__icon md-icon"></span> Esxi </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hypervisor/esxi/upload_iso_cli/ class=md-nav__link> <span class=md-ellipsis> Uploader ses ISO en ligne de commande </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9_1_2> <label class=md-nav__link for=__nav_9_1_2 id=__nav_9_1_2_label tabindex=0> <span class=md-ellipsis> Commands </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1_2> <span class="md-nav__icon md-icon"></span> Commands </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hypervisor/esxi/commands/network/ class=md-nav__link> <span class=md-ellipsis> Commandes ESXi Network </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9_1_3> <label class=md-nav__link for=__nav_9_1_3 id=__nav_9_1_3_label tabindex=0> <span class=md-ellipsis> Misc </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1_3> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hypervisor/esxi/misc/shell_access/ class=md-nav__link> <span class=md-ellipsis> Acceder à la console de l'ESXi </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9_2> <label class=md-nav__link for=__nav_9_2 id=__nav_9_2_label tabindex=0> <span class=md-ellipsis> Proxmox </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_2> <span class="md-nav__icon md-icon"></span> Proxmox </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hypervisor/proxmox/cluster/ class=md-nav__link> <span class=md-ellipsis> Gérer son cluster Proxmox </span> </a> </li> <li class=md-nav__item> <a href=../../../../hypervisor/proxmox/insert_iso_from_url/ class=md-nav__link> <span class=md-ellipsis> Ajouter une ISO depuis une URL </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9_2_3> <label class=md-nav__link for=__nav_9_2_3 id=__nav_9_2_3_label tabindex=0> <span class=md-ellipsis> Networking </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_2_3> <span class="md-nav__icon md-icon"></span> Networking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hypervisor/proxmox/networking/nat/ class=md-nav__link> <span class=md-ellipsis> NAT </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9_2_4> <label class=md-nav__link for=__nav_9_2_4 id=__nav_9_2_4_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_2_4> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../hypervisor/proxmox/troubleshooting/vm_locked/ class=md-nav__link> <span class=md-ellipsis> Résoudre l'erreur '"VM is locked'" </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> Kafka </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Kafka </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../kafka/kafkactl/ class=md-nav__link> <span class=md-ellipsis> Kafkactl, un outil magique </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> <span class=md-ellipsis> Kubernetes </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../kubernetes/advanced_commands/ class=md-nav__link> <span class=md-ellipsis> Commandes Avancées </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11_2> <label class=md-nav__link for=__nav_11_2 id=__nav_11_2_label tabindex=0> <span class=md-ellipsis> Cli </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_2_label aria-expanded=false> <label class=md-nav__title for=__nav_11_2> <span class="md-nav__icon md-icon"></span> Cli </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../kubernetes/cli/kubeconfig/ class=md-nav__link> <span class=md-ellipsis> Manage son $KUBECONFIG </span> </a> </li> <li class=md-nav__item> <a href=../../../../kubernetes/cli/tools/ class=md-nav__link> <span class=md-ellipsis> Outils pour mieux gérer K8S </span> </a> </li> <li class=md-nav__item> <a href=../../../../kubernetes/cli/useful_commands/ class=md-nav__link> <span class=md-ellipsis> Commandes utiles pour K8S </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11_3> <label class=md-nav__link for=__nav_11_3 id=__nav_11_3_label tabindex=0> <span class=md-ellipsis> Deployment </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_3_label aria-expanded=false> <label class=md-nav__title for=__nav_11_3> <span class="md-nav__icon md-icon"></span> Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../kubernetes/deployment/golang_kubernetes_limit/ class=md-nav__link> <span class=md-ellipsis> Golang : Définir automatiquement son GOMEMLIMIT/GOMAXPROCS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11_4> <label class=md-nav__link for=__nav_11_4 id=__nav_11_4_label tabindex=0> <span class=md-ellipsis> Rancher </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_4_label aria-expanded=false> <label class=md-nav__title for=__nav_11_4> <span class="md-nav__icon md-icon"></span> Rancher </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../kubernetes/rancher/reset_password/ class=md-nav__link> <span class=md-ellipsis> Reset son password Rancher </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11_5> <label class=md-nav__link for=__nav_11_5 id=__nav_11_5_label tabindex=0> <span class=md-ellipsis> Rke </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_5_label aria-expanded=false> <label class=md-nav__title for=__nav_11_5> <span class="md-nav__icon md-icon"></span> Rke </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../kubernetes/rke/bootstrap_cluster/ class=md-nav__link> <span class=md-ellipsis> Bootstrap rapidement son cluster </span> </a> </li> <li class=md-nav__item> <a href=../../../../kubernetes/rke/recover_rkestate/ class=md-nav__link> <span class=md-ellipsis> Recuperer son fichier rkestate </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11_6> <label class=md-nav__link for=__nav_11_6 id=__nav_11_6_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_6_label aria-expanded=false> <label class=md-nav__title for=__nav_11_6> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../kubernetes/troubleshooting/troubleshooting_sa/ class=md-nav__link> <span class=md-ellipsis> Debug son ServiceAccount Kubernetes </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12 checked> <label class=md-nav__link for=__nav_12 id=__nav_12_label tabindex> <span class=md-ellipsis> Linux </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_12_label aria-expanded=true> <label class=md-nav__title for=__nav_12> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_1 checked> <label class=md-nav__link for=__nav_12_1 id=__nav_12_1_label tabindex> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_1_label aria-expanded=true> <label class=md-nav__title for=__nav_12_1> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../lock_ddos/ class=md-nav__link> <span class=md-ellipsis> Luter contre un DDOS </span> </a> </li> <li class=md-nav__item> <a href=../../move_process_to_tmux/ class=md-nav__link> <span class=md-ellipsis> Deplacer un processus dans un tmux </span> </a> </li> <li class=md-nav__item> <a href=../../strace/ class=md-nav__link> <span class=md-ellipsis> Utilisation de strace </span> </a> </li> <li class=md-nav__item> <a href=../../troubleshooting_grub/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting Grub </span> </a> </li> <li class=md-nav__item> <a href=../../understand_sysfs_procfs/ class=md-nav__link> <span class=md-ellipsis> Exploration poussée des systèmes de fichiers sysfs &amp; procfs </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_1_6> <label class=md-nav__link for=__nav_12_1_6 id=__nav_12_1_6_label tabindex=0> <span class=md-ellipsis> Cli </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_1_6_label aria-expanded=false> <label class=md-nav__title for=__nav_12_1_6> <span class="md-nav__icon md-icon"></span> Cli </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../cli/extend_partition/ class=md-nav__link> <span class=md-ellipsis> Etendre à chaud sa partition root </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_1_7> <label class=md-nav__link for=__nav_12_1_7 id=__nav_12_1_7_label tabindex=0> <span class=md-ellipsis> Shell </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_1_7_label aria-expanded=false> <label class=md-nav__title for=__nav_12_1_7> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../shell/debug_slowness_ohmyzsh/ class=md-nav__link> <span class=md-ellipsis> Debug ses lenteurs de ohmyzsh </span> </a> </li> <li class=md-nav__item> <a href=../../shell/template_bash_script/ class=md-nav__link> <span class=md-ellipsis> Un template pour un script bash </span> </a> </li> <li class=md-nav__item> <a href=../../shell/tips_bash/ class=md-nav__link> <span class=md-ellipsis> Astuces bash </span> </a> </li> <li class=md-nav__item> <a href=../../shell/tips_zsh/ class=md-nav__link> <span class=md-ellipsis> Astuces zsh </span> </a> </li> <li class=md-nav__item> <a href=../../shell/useful_commands/ class=md-nav__link> <span class=md-ellipsis> Useful commands </span> </a> </li> <li class=md-nav__item> <a href=../../shell/write_bash_scripts/ class=md-nav__link> <span class=md-ellipsis> Ecrire son script bash </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_1_8> <label class=md-nav__link for=__nav_12_1_8 id=__nav_12_1_8_label tabindex=0> <span class=md-ellipsis> Systemd </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_1_8_label aria-expanded=false> <label class=md-nav__title for=__nav_12_1_8> <span class="md-nav__icon md-icon"></span> Systemd </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../systemd/create_unit/ class=md-nav__link> <span class=md-ellipsis> Créer son service systemd </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_12_1_9 checked> <label class=md-nav__link for=__nav_12_1_9 id=__nav_12_1_9_label tabindex=0> <span class=md-ellipsis> Varnish </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_1_9_label aria-expanded=true> <label class=md-nav__title for=__nav_12_1_9> <span class="md-nav__icon md-icon"></span> Varnish </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Config varnish </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_2> <label class=md-nav__link for=__nav_12_2 id=__nav_12_2_label tabindex> <span class=md-ellipsis> Automatisation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_2_label aria-expanded=false> <label class=md-nav__title for=__nav_12_2> <span class="md-nav__icon md-icon"></span> Automatisation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_2_1> <label class=md-nav__link for=__nav_12_2_1 id=__nav_12_2_1_label tabindex=0> <span class=md-ellipsis> Ansible </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_12_2_1> <span class="md-nav__icon md-icon"></span> Ansible </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../automatisation/ansible/ansible/ class=md-nav__link> <span class=md-ellipsis> Automatisation des taches avec ansible </span> </a> </li> <li class=md-nav__item> <a href=../../../automatisation/ansible/ansible_reuse_variable/ class=md-nav__link> <span class=md-ellipsis> Réutilisation de variables ansible entre différentes tâches </span> </a> </li> <li class=md-nav__item> <a href=../../../automatisation/ansible/ansible_tips/ class=md-nav__link> <span class=md-ellipsis> Ansible : Tips </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_2_2> <label class=md-nav__link for=__nav_12_2_2 id=__nav_12_2_2_label tabindex=0> <span class=md-ellipsis> Misc </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_12_2_2> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../automatisation/misc/Makefile/ class=md-nav__link> <span class=md-ellipsis> Makefile : à quoi ça sert ? </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_2_3> <label class=md-nav__link for=__nav_12_2_3 id=__nav_12_2_3_label tabindex=0> <span class=md-ellipsis> Terraform </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_12_2_3> <span class="md-nav__icon md-icon"></span> Terraform </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../automatisation/terraform/cheatsheet/ class=md-nav__link> <span class=md-ellipsis> Cheatsheet terraform </span> </a> </li> <li class=md-nav__item> <a href=../../../automatisation/terraform/tools/ class=md-nav__link> <span class=md-ellipsis> Tools Terraform indispensables </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_3> <label class=md-nav__link for=__nav_12_3 id=__nav_12_3_label tabindex> <span class=md-ellipsis> Bsd </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_3_label aria-expanded=false> <label class=md-nav__title for=__nav_12_3> <span class="md-nav__icon md-icon"></span> Bsd </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../bsd/wheel_group/ class=md-nav__link> <span class=md-ellipsis> Ajouter un utilisateur au groupe wheel </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_4> <label class=md-nav__link for=__nav_12_4 id=__nav_12_4_label tabindex> <span class=md-ellipsis> Centos </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_4_label aria-expanded=false> <label class=md-nav__title for=__nav_12_4> <span class="md-nav__icon md-icon"></span> Centos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../centos/add_epel_repositories/ class=md-nav__link> <span class=md-ellipsis> Ajouter les repositories EPEL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_5> <label class=md-nav__link for=__nav_12_5 id=__nav_12_5_label tabindex> <span class=md-ellipsis> Cli </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_5_label aria-expanded=false> <label class=md-nav__title for=__nav_12_5> <span class="md-nav__icon md-icon"></span> Cli </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cli/confrc/ class=md-nav__link> <span class=md-ellipsis> Mes fichiers de configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/define_hostname/ class=md-nav__link> <span class=md-ellipsis> Configurer correctement son nom de domaine </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/dfc/ class=md-nav__link> <span class=md-ellipsis> DFC, la commande DF en plus </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/find/ class=md-nav__link> <span class=md-ellipsis> La commande find </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/ip/ class=md-nav__link> <span class=md-ellipsis> Mémo sur la commande IP </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/limit_bandwidth/ class=md-nav__link> <span class=md-ellipsis> Simuler des conditions réseau sur Linux </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/motd/ class=md-nav__link> <span class=md-ellipsis> Personnaliser ton motd </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/replace_base_commands/ class=md-nav__link> <span class=md-ellipsis> Remplacer les commandes de base Linux par des versions plus performantes </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/sed/ class=md-nav__link> <span class=md-ellipsis> Sed </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/ss/ class=md-nav__link> <span class=md-ellipsis> La commande ss </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/tmux/ class=md-nav__link> <span class=md-ellipsis> TMUX Multiplexeur de Shell </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_5_12> <label class=md-nav__link for=__nav_12_5_12 id=__nav_12_5_12_label tabindex=0> <span class=md-ellipsis> Git </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_5_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12_5_12> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../cli/git/git/ class=md-nav__link> <span class=md-ellipsis> Apprendre à se servir de git </span> </a> </li> <li class=md-nav__item> <a href=../../../cli/git/rework_files/ class=md-nav__link> <span class=md-ellipsis> Réduire la taille de son repository Git </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_6> <label class=md-nav__link for=__nav_12_6 id=__nav_12_6_label tabindex> <span class=md-ellipsis> Elasticsearch </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_6_label aria-expanded=false> <label class=md-nav__title for=__nav_12_6> <span class="md-nav__icon md-icon"></span> Elasticsearch </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../elasticsearch/log_slow_queries/ class=md-nav__link> <span class=md-ellipsis> Log des slow queries de ElasticSearch </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_7> <label class=md-nav__link for=__nav_12_7 id=__nav_12_7_label tabindex> <span class=md-ellipsis> Fundamentals </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_7_label aria-expanded=false> <label class=md-nav__title for=__nav_12_7> <span class="md-nav__icon md-icon"></span> Fundamentals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../fundamentals/base_commands/ class=md-nav__link> <span class=md-ellipsis> Rappel des commandes de base </span> </a> </li> <li class=md-nav__item> <a href=../../../fundamentals/cron/ class=md-nav__link> <span class=md-ellipsis> Rappel sur le cron </span> </a> </li> <li class=md-nav__item> <a href=../../../fundamentals/curl/ class=md-nav__link> <span class=md-ellipsis> cURL: La commande à tout faire </span> </a> </li> <li class=md-nav__item> <a href=../../../fundamentals/vim/ class=md-nav__link> <span class=md-ellipsis> VIM: L'editeur de texte de la mort </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_8> <label class=md-nav__link for=__nav_12_8 id=__nav_12_8_label tabindex> <span class=md-ellipsis> Hosting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_8_label aria-expanded=false> <label class=md-nav__title for=__nav_12_8> <span class="md-nav__icon md-icon"></span> Hosting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../hosting/dns/ class=md-nav__link> <span class=md-ellipsis> Installer son NS ainsi que son resolveur DNS via BIND9 </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/ftp/ class=md-nav__link> <span class=md-ellipsis> Installer son serveur FTP </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/mail/ class=md-nav__link> <span class=md-ellipsis> Postfix/Dovecot/DKIM/Postgrey et plus encore </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/troubleshooting/ class=md-nav__link> <span class=md-ellipsis> MOZILLA_PKIX_ERROR_REQUIRED_TLS_FEATURE_MISSING </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_8_5> <label class=md-nav__link for=__nav_12_8_5 id=__nav_12_8_5_label tabindex=0> <span class=md-ellipsis> Lemp </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_8_5_label aria-expanded=false> <label class=md-nav__title for=__nav_12_8_5> <span class="md-nav__icon md-icon"></span> Lemp </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../hosting/lemp/custom_server_header/ class=md-nav__link> <span class=md-ellipsis> Être encore plus safe en customisant son header Server NGINX </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/fetch_good_ips/ class=md-nav__link> <span class=md-ellipsis> Obtenir les bonnes IP sur apache derrière un reverse proxy </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/installation/ class=md-nav__link> <span class=md-ellipsis> Installer son Serveur Web : NGINX, PHP-FPM et MariaDB </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/ipv6_nginx/ class=md-nav__link> <span class=md-ellipsis> Configurer nginx pour utiliser IPv6 </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/nginx_ssl/ class=md-nav__link> <span class=md-ellipsis> Forcer le SSL sous NGINX </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/php_custom_version/ class=md-nav__link> <span class=md-ellipsis> Installer une version custom de PHP </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_8_5_7> <label class=md-nav__link for=__nav_12_8_5_7 id=__nav_12_8_5_7_label tabindex=0> <span class=md-ellipsis> Haproxy </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_12_8_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_12_8_5_7> <span class="md-nav__icon md-icon"></span> Haproxy </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../hosting/lemp/haproxy/api/ class=md-nav__link> <span class=md-ellipsis> HAproxy : Utiliser son API </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/haproxy/cloudflare/ class=md-nav__link> <span class=md-ellipsis> HAproxy : Obtenir les vraies IPs depuis CloudFlare </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/haproxy/keep_real_ip/ class=md-nav__link> <span class=md-ellipsis> Conserver l'IP de son visiteur sur un reverse-proxy </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/haproxy/maintenance/ class=md-nav__link> <span class=md-ellipsis> HAproxy : Mettre un node en maintenance </span> </a> </li> <li class=md-nav__item> <a href=../../../hosting/lemp/haproxy/overview/ class=md-nav__link> <span class=md-ellipsis> Reverse proxy: HAproxy </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_8_6> <label class=md-nav__link for=__nav_12_8_6 id=__nav_12_8_6_label tabindex=0> <span class=md-ellipsis> Mail </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_8_6_label aria-expanded=false> <label class=md-nav__title for=__nav_12_8_6> <span class="md-nav__icon md-icon"></span> Mail </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../hosting/mail/exim_manage_dkim/ class=md-nav__link> <span class=md-ellipsis> Configurer DKIM avec Exim </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_8_7> <label class=md-nav__link for=__nav_12_8_7 id=__nav_12_8_7_label tabindex=0> <span class=md-ellipsis> Ruby </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_8_7_label aria-expanded=false> <label class=md-nav__title for=__nav_12_8_7> <span class="md-nav__icon md-icon"></span> Ruby </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../hosting/ruby/install/ class=md-nav__link> <span class=md-ellipsis> Installer Ruby </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_9> <label class=md-nav__link for=__nav_12_9 id=__nav_12_9_label tabindex> <span class=md-ellipsis> Memcached </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_9_label aria-expanded=false> <label class=md-nav__title for=__nav_12_9> <span class="md-nav__icon md-icon"></span> Memcached </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../memcached/misc_commands/ class=md-nav__link> <span class=md-ellipsis> Commandes diverses avec memcached </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_10> <label class=md-nav__link for=__nav_12_10 id=__nav_12_10_label tabindex> <span class=md-ellipsis> Misc </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_10_label aria-expanded=false> <label class=md-nav__title for=__nav_12_10> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../misc/autoupgrade/ class=md-nav__link> <span class=md-ellipsis> Mise à jour automatique de ses paquets </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/convert_bin_to_iso/ class=md-nav__link> <span class=md-ellipsis> Convertir des .bin en .iso </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/create_raid/ class=md-nav__link> <span class=md-ellipsis> Création de RAID logiciels avec mdadm </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/find_kernel_options/ class=md-nav__link> <span class=md-ellipsis> Trouver les options de compilation du kernel </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/forgot_root_password/ class=md-nav__link> <span class=md-ellipsis> Réinitialiser son mot de passe root </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/info_about_pdf/ class=md-nav__link> <span class=md-ellipsis> Obtenir des informations sur vos PDF </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/locales/ class=md-nav__link> <span class=md-ellipsis> Gagner de la place en supprimant les locales inutiles </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/mancolor/ class=md-nav__link> <span class=md-ellipsis> Ajouter de la couleur à sa commande man </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/rc_package/ class=md-nav__link> <span class=md-ellipsis> Enlever les paquets '"rc'" sur dpkg </span> </a> </li> <li class=md-nav__item> <a href=../../../misc/subs/ class=md-nav__link> <span class=md-ellipsis> Télécharger ses sous-titres en ligne de commande </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_11> <label class=md-nav__link for=__nav_12_11 id=__nav_12_11_label tabindex> <span class=md-ellipsis> Monitoring </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_11_label aria-expanded=false> <label class=md-nav__title for=__nav_12_11> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../monitoring/eztools/ class=md-nav__link> <span class=md-ellipsis> Les outils eZ Server, des outils simple de supervision </span> </a> </li> <li class=md-nav__item> <a href=../../../monitoring/munin/ class=md-nav__link> <span class=md-ellipsis> Munin : l'outil de supervision sans fioritures </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_11_3> <label class=md-nav__link for=__nav_12_11_3 id=__nav_12_11_3_label tabindex=0> <span class=md-ellipsis> Check mk </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_11_3_label aria-expanded=false> <label class=md-nav__title for=__nav_12_11_3> <span class="md-nav__icon md-icon"></span> Check mk </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../monitoring/check_mk/add_slack_notification/ class=md-nav__link> <span class=md-ellipsis> Configurer des notifications Slack pour check_mk </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_11_4> <label class=md-nav__link for=__nav_12_11_4 id=__nav_12_11_4_label tabindex=0> <span class=md-ellipsis> Lgtm </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_11_4_label aria-expanded=false> <label class=md-nav__title for=__nav_12_11_4> <span class="md-nav__icon md-icon"></span> Lgtm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../monitoring/lgtm/custom_metrics_nodeexporter/ class=md-nav__link> <span class=md-ellipsis> Ecrire une métrique custom pour node_exporter </span> </a> </li> <li class=md-nav__item> <a href=../../../monitoring/lgtm/loki_alerting/ class=md-nav__link> <span class=md-ellipsis> Générer des alertes depuis Loki </span> </a> </li> <li class=md-nav__item> <a href=../../../monitoring/lgtm/simple_monitoring_stack/ class=md-nav__link> <span class=md-ellipsis> Netdata, Prometheus et Grafana : une stack de monitoring simple et puissante </span> </a> </li> <li class=md-nav__item> <a href=../../../monitoring/lgtm/tips_lgtm/ class=md-nav__link> <span class=md-ellipsis> 2-3 tips pour la stack LGTM </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_12> <label class=md-nav__link for=__nav_12_12 id=__nav_12_12_label tabindex> <span class=md-ellipsis> Mysql </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_12_label aria-expanded=false> <label class=md-nav__title for=__nav_12_12> <span class="md-nav__icon md-icon"></span> Mysql </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mysql/advanced_commands/ class=md-nav__link> <span class=md-ellipsis> MySQL : Commandes avancées </span> </a> </li> <li class=md-nav__item> <a href=../../../mysql/db_mysql/ class=md-nav__link> <span class=md-ellipsis> Restaurer la DB système MySQL </span> </a> </li> <li class=md-nav__item> <a href=../../../mysql/galera_gluster/ class=md-nav__link> <span class=md-ellipsis> Créer son cluster Galera </span> </a> </li> <li class=md-nav__item> <a href=../../../mysql/users/ class=md-nav__link> <span class=md-ellipsis> Gérer ses users MySQL </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_12_5> <label class=md-nav__link for=__nav_12_12_5 id=__nav_12_12_5_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_12_5_label aria-expanded=false> <label class=md-nav__title for=__nav_12_12_5> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../mysql/troubleshooting/generate_insert_into/ class=md-nav__link> <span class=md-ellipsis> Générer des INSERT INTO depuis un SELECT </span> </a> </li> <li class=md-nav__item> <a href=../../../mysql/troubleshooting/replication_slave/ class=md-nav__link> <span class=md-ellipsis> Debug sa replication Master-Slave </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_13> <label class=md-nav__link for=__nav_12_13 id=__nav_12_13_label tabindex> <span class=md-ellipsis> Networking </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_13_label aria-expanded=false> <label class=md-nav__title for=__nav_12_13> <span class="md-nav__icon md-icon"></span> Networking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../networking/buffer_nic/ class=md-nav__link> <span class=md-ellipsis> Augmenter le buffer de sa carte réseau </span> </a> </li> <li class=md-nav__item> <a href=../../../networking/openvpn/ class=md-nav__link> <span class=md-ellipsis> Installer et configurer son VPN OpenVPN </span> </a> </li> <li class=md-nav__item> <a href=../../../networking/openvpn_v6/ class=md-nav__link> <span class=md-ellipsis> Configurer son serveur OpenVPN pour de l'IPv6 </span> </a> </li> <li class=md-nav__item> <a href=../../../networking/speedtestcli/ class=md-nav__link> <span class=md-ellipsis> Speedtestcli </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_13_5> <label class=md-nav__link for=__nav_12_13_5 id=__nav_12_13_5_label tabindex=0> <span class=md-ellipsis> Ipv6 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_13_5_label aria-expanded=false> <label class=md-nav__title for=__nav_12_13_5> <span class="md-nav__icon md-icon"></span> Ipv6 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../networking/ipv6/setup_online/ class=md-nav__link> <span class=md-ellipsis> Setup online </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_14> <label class=md-nav__link for=__nav_12_14 id=__nav_12_14_label tabindex> <span class=md-ellipsis> Postgres </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_14_label aria-expanded=false> <label class=md-nav__title for=__nav_12_14> <span class="md-nav__icon md-icon"></span> Postgres </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../postgres/commands/ class=md-nav__link> <span class=md-ellipsis> Commandes utiles Postgres </span> </a> </li> <li class=md-nav__item> <a href=../../../postgres/postgresql_replication/ class=md-nav__link> <span class=md-ellipsis> PostgreSQL Replication </span> </a> </li> <li class=md-nav__item> <a href=../../../postgres/upgrade_version/ class=md-nav__link> <span class=md-ellipsis> Upgrade sa version de PostgreSQL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_15> <label class=md-nav__link for=__nav_12_15 id=__nav_12_15_label tabindex> <span class=md-ellipsis> Redis </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_15_label aria-expanded=false> <label class=md-nav__title for=__nav_12_15> <span class="md-nav__icon md-icon"></span> Redis </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../redis/cluster_ha/ class=md-nav__link> <span class=md-ellipsis> Déployer un Redis en High Availability </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_16> <label class=md-nav__link for=__nav_12_16 id=__nav_12_16_label tabindex> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_16_label aria-expanded=false> <label class=md-nav__title for=__nav_12_16> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../security/disable_patches/ class=md-nav__link> <span class=md-ellipsis> Désactiver les patchs de sécurité Meltdown &amp; co </span> </a> </li> <li class=md-nav__item> <a href=../../../security/hardening_sshd/ class=md-nav__link> <span class=md-ellipsis> Hardening simple du serveur SSH </span> </a> </li> <li class=md-nav__item> <a href=../../../security/ipset/ class=md-nav__link> <span class=md-ellipsis> Apprendre à se servir d'ipset </span> </a> </li> <li class=md-nav__item> <a href=../../../security/iptables_country/ class=md-nav__link> <span class=md-ellipsis> Iptables country </span> </a> </li> <li class=md-nav__item> <a href=../../../security/issued_crt/ class=md-nav__link> <span class=md-ellipsis> Lister tous les certificats émis </span> </a> </li> <li class=md-nav__item> <a href=../../../security/logwatch/ class=md-nav__link> <span class=md-ellipsis> Installer et configurer LogWatch </span> </a> </li> <li class=md-nav__item> <a href=../../../security/password_pam/ class=md-nav__link> <span class=md-ellipsis> Améliorer la sécurité des mots de passe par défaut </span> </a> </li> <li class=md-nav__item> <a href=../../../security/portsentry/ class=md-nav__link> <span class=md-ellipsis> Installer et configuer PortSentry </span> </a> </li> <li class=md-nav__item> <a href=../../../security/rkhunter/ class=md-nav__link> <span class=md-ellipsis> Installer et configurer RKHunter </span> </a> </li> <li class=md-nav__item> <a href=../../../security/sftp/ class=md-nav__link> <span class=md-ellipsis> Accès sécurisé via sFTP (Chroot SSH) </span> </a> </li> <li class=md-nav__item> <a href=../../../security/slack_notifications_ssh/ class=md-nav__link> <span class=md-ellipsis> Configurer des notifications Slack pour SSH </span> </a> </li> <li class=md-nav__item> <a href=../../../security/ssh_improve_speed/ class=md-nav__link> <span class=md-ellipsis> Améliorer la vitesse de connexion à votre serveur SSH </span> </a> </li> <li class=md-nav__item> <a href=../../../security/ssh_log_commands/ class=md-nav__link> <span class=md-ellipsis> Logger les actions SSH utilisateurs simplement </span> </a> </li> <li class=md-nav__item> <a href=../../../security/telegram_notifications_ssh/ class=md-nav__link> <span class=md-ellipsis> Configurer des notifications Telegram pour SSH </span> </a> </li> <li class=md-nav__item> <a href=../../../security/whitelist_ip/ class=md-nav__link> <span class=md-ellipsis> Whitelister une série d'IP à l'aide d'IPset et iptables </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_17> <label class=md-nav__link for=__nav_12_17 id=__nav_12_17_label tabindex> <span class=md-ellipsis> Selfhost </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_12_17_label aria-expanded=false> <label class=md-nav__title for=__nav_12_17> <span class="md-nav__icon md-icon"></span> Selfhost </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../selfhost/ajenti/ class=md-nav__link> <span class=md-ellipsis> Gérer son serveur en ligne via Ajenti </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/h5ai/ class=md-nav__link> <span class=md-ellipsis> Partager ses fichiers avec H5ai </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/koel/ class=md-nav__link> <span class=md-ellipsis> Streamer sa musique depuis Koel </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/nextcloud/ class=md-nav__link> <span class=md-ellipsis> NextCloud, son cloud personnel </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/selfoss/ class=md-nav__link> <span class=md-ellipsis> Selfoss, son Reader RSS self-hosted </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/sonerezh/ class=md-nav__link> <span class=md-ellipsis> Sonerezh </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/subsonic/ class=md-nav__link> <span class=md-ellipsis> Subsonic </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/youtubedl/ class=md-nav__link> <span class=md-ellipsis> Sauvegarder ses vidéos avec YoutubeDL et sa GUI </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_12_17_9> <label class=md-nav__link for=__nav_12_17_9 id=__nav_12_17_9_label tabindex=0> <span class=md-ellipsis> Torrent </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_12_17_9_label aria-expanded=false> <label class=md-nav__title for=__nav_12_17_9> <span class="md-nav__icon md-icon"></span> Torrent </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../selfhost/torrent/mktorrent/ class=md-nav__link> <span class=md-ellipsis> mktorrent </span> </a> </li> <li class=md-nav__item> <a href=../../../selfhost/torrent/rutorrent/ class=md-nav__link> <span class=md-ellipsis> Rutorrent </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13> <label class=md-nav__link for=__nav_13 id=__nav_13_label tabindex=0> <span class=md-ellipsis> Mac </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_13_label aria-expanded=false> <label class=md-nav__title for=__nav_13> <span class="md-nav__icon md-icon"></span> Mac </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mac/brew/ class=md-nav__link> <span class=md-ellipsis> Brew, l'APT-GET du Mac </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac/brew_xcode/ class=md-nav__link> <span class=md-ellipsis> Brew : L'installer sans XCode </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac/mind-view/ class=md-nav__link> <span class=md-ellipsis> MindView </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_4> <label class=md-nav__link for=__nav_13_4 id=__nav_13_4_label tabindex=0> <span class=md-ellipsis> Iterm </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_13_4_label aria-expanded=false> <label class=md-nav__title for=__nav_13_4> <span class="md-nav__icon md-icon"></span> Iterm </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_13_4_1> <label class=md-nav__link for=__nav_13_4_1 id=__nav_13_4_1_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_13_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_13_4_1> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mac/iterm/troubleshooting/alt_arrow/ class=md-nav__link> <span class=md-ellipsis> Remap le Alt+Arrow de iTerm </span> </a> </li> <li class=md-nav__item> <a href=../../../../mac/iterm/troubleshooting/first_chat/ class=md-nav__link> <span class=md-ellipsis> Enlever le premier caractère bizarre de iTerm </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14> <label class=md-nav__link for=__nav_14 id=__nav_14_label tabindex=0> <span class=md-ellipsis> Mess </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_14_label aria-expanded=false> <label class=md-nav__title for=__nav_14> <span class="md-nav__icon md-icon"></span> Mess </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mess/github_template/ class=md-nav__link> <span class=md-ellipsis> Générer un template pour ses Pull Request et ses Issues </span> </a> </li> <li class=md-nav__item> <a href=../../../../mess/linux_performances/ class=md-nav__link> <span class=md-ellipsis> Monitoring des performances sous Linux </span> </a> </li> <li class=md-nav__item> <a href=../../../../mess/optimization/ class=md-nav__link> <span class=md-ellipsis> Optimisations </span> </a> </li> <li class=md-nav__item> <a href=../../../../mess/scripts_useful/ class=md-nav__link> <span class=md-ellipsis> Scripts useful </span> </a> </li> <li class=md-nav__item> <a href=../../../../mess/useful_links/ class=md-nav__link> <span class=md-ellipsis> Bordel de lien </span> </a> </li> <li class=md-nav__item> <a href=../../../../mess/useful_software/ class=md-nav__link> <span class=md-ellipsis> Useful software </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14_7> <label class=md-nav__link for=__nav_14_7 id=__nav_14_7_label tabindex=0> <span class=md-ellipsis> Download </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_7_label aria-expanded=false> <label class=md-nav__title for=__nav_14_7> <span class="md-nav__icon md-icon"></span> Download </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mess/download/netflix_subs/ class=md-nav__link> <span class=md-ellipsis> Télécharger les sous-titres Netflix simplement </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_14_8> <label class=md-nav__link for=__nav_14_8 id=__nav_14_8_label tabindex=0> <span class=md-ellipsis> Fibre optique </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_14_8_label aria-expanded=false> <label class=md-nav__title for=__nav_14_8> <span class="md-nav__icon md-icon"></span> Fibre optique </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../mess/fibre_optique/info_transceiver/ class=md-nav__link> <span class=md-ellipsis> Informations utile sur les dénominations fibre optique </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_15> <label class=md-nav__link for=__nav_15 id=__nav_15_label tabindex=0> <span class=md-ellipsis> Misc </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_15_label aria-expanded=false> <label class=md-nav__title for=__nav_15> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../misc/sources/ class=md-nav__link> <span class=md-ellipsis> Mes sources </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_16> <label class=md-nav__link for=__nav_16 id=__nav_16_label tabindex=0> <span class=md-ellipsis> Networking </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_16_label aria-expanded=false> <label class=md-nav__title for=__nav_16> <span class="md-nav__icon md-icon"></span> Networking </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../networking/list_prefix_asn/ class=md-nav__link> <span class=md-ellipsis> Lister les préfixes annoncés par un AS </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/proof_files/ class=md-nav__link> <span class=md-ellipsis> Tester la bande passante effective de son serveur avec des '"proofs files'" </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/weathermap/ class=md-nav__link> <span class=md-ellipsis> Weathermap </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_16_4> <label class=md-nav__link for=__nav_16_4 id=__nav_16_4_label tabindex=0> <span class=md-ellipsis> Cisco </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_16_4_label aria-expanded=false> <label class=md-nav__title for=__nav_16_4> <span class="md-nav__icon md-icon"></span> Cisco </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../networking/cisco/cdp/ class=md-nav__link> <span class=md-ellipsis> Le Protocole CDP </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/commandes_base/ class=md-nav__link> <span class=md-ellipsis> Commandes de base Cisco IOS </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/dns/ class=md-nav__link> <span class=md-ellipsis> Cisco : Désactiver la résolution DNS </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/lldp/ class=md-nav__link> <span class=md-ellipsis> Le Protocole LLDP </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/qos/ class=md-nav__link> <span class=md-ellipsis> QOS Cisco </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/routage_vlan/ class=md-nav__link> <span class=md-ellipsis> Cisco : Routage Inter-VLAN </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/security/ class=md-nav__link> <span class=md-ellipsis> Accroitre la sécurité </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/serveur_dhcp/ class=md-nav__link> <span class=md-ellipsis> Installer un serveur DHCP sur un routeur Cisco </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/ssh/ class=md-nav__link> <span class=md-ellipsis> Serveur SSH </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/stp/ class=md-nav__link> <span class=md-ellipsis> STP : Spanning Tree Protocol </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/cisco/vlan/ class=md-nav__link> <span class=md-ellipsis> Cisco : Créér son VLAN </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_16_4_12> <label class=md-nav__link for=__nav_16_4_12 id=__nav_16_4_12_label tabindex=0> <span class=md-ellipsis> Ipv6 </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_16_4_12_label aria-expanded=false> <label class=md-nav__title for=__nav_16_4_12> <span class="md-nav__icon md-icon"></span> Ipv6 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../networking/cisco/ipv6/ospf_ipv6/ class=md-nav__link> <span class=md-ellipsis> OSPF en IPv6 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_16_4_13> <label class=md-nav__link for=__nav_16_4_13 id=__nav_16_4_13_label tabindex=0> <span class=md-ellipsis> Mpls </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_16_4_13_label aria-expanded=false> <label class=md-nav__title for=__nav_16_4_13> <span class="md-nav__icon md-icon"></span> Mpls </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../networking/cisco/mpls/ttl_propagation/ class=md-nav__link> <span class=md-ellipsis> Désactiver la propagation du TTL en MPLS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_16_4_14> <label class=md-nav__link for=__nav_16_4_14 id=__nav_16_4_14_label tabindex=0> <span class=md-ellipsis> Transceiver </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_16_4_14_label aria-expanded=false> <label class=md-nav__title for=__nav_16_4_14> <span class="md-nav__icon md-icon"></span> Transceiver </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../networking/cisco/transceiver/noname/ class=md-nav__link> <span class=md-ellipsis> Noname </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_16_5> <label class=md-nav__link for=__nav_16_5 id=__nav_16_5_label tabindex=0> <span class=md-ellipsis> Mkt </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_16_5_label aria-expanded=false> <label class=md-nav__title for=__nav_16_5> <span class="md-nav__icon md-icon"></span> Mkt </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../networking/mkt/install_ipsec/ class=md-nav__link> <span class=md-ellipsis> Install ipsec </span> </a> </li> <li class=md-nav__item> <a href=../../../../networking/mkt/netflix_vpn/ class=md-nav__link> <span class=md-ellipsis> Netflix vpn </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_17> <label class=md-nav__link for=__nav_17 id=__nav_17_label tabindex=0> <span class=md-ellipsis> Pfsense </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_17_label aria-expanded=false> <label class=md-nav__title for=__nav_17> <span class="md-nav__icon md-icon"></span> Pfsense </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../pfsense/update_bogon_list/ class=md-nav__link> <span class=md-ellipsis> Mise à jour de la bogon list via l'interface graphique </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_17_2> <label class=md-nav__link for=__nav_17_2 id=__nav_17_2_label tabindex=0> <span class=md-ellipsis> Network </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_17_2_label aria-expanded=false> <label class=md-nav__title for=__nav_17_2> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../pfsense/network/gateway_outside_network/ class=md-nav__link> <span class=md-ellipsis> Ajouter une gateway en dehors de son réseau </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_18> <label class=md-nav__link for=__nav_18 id=__nav_18_label tabindex=0> <span class=md-ellipsis> Ssh </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_18_label aria-expanded=false> <label class=md-nav__title for=__nav_18> <span class="md-nav__icon md-icon"></span> Ssh </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../ssh/pubkey_rfc4716/ class=md-nav__link> <span class=md-ellipsis> Générer une clé SSH au format RFC 4716 </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_19> <label class=md-nav__link for=__nav_19 id=__nav_19_label tabindex=0> <span class=md-ellipsis> Web </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_19_label aria-expanded=false> <label class=md-nav__title for=__nav_19> <span class="md-nav__icon md-icon"></span> Web </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_19_1> <label class=md-nav__link for=__nav_19_1 id=__nav_19_1_label tabindex=0> <span class=md-ellipsis> Benchmark </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_19_1_label aria-expanded=false> <label class=md-nav__title for=__nav_19_1> <span class="md-nav__icon md-icon"></span> Benchmark </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../web/benchmark/benchmark_random_querystring/ class=md-nav__link> <span class=md-ellipsis> Benchmark avec une random query string </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_19_2> <label class=md-nav__link for=__nav_19_2 id=__nav_19_2_label tabindex=0> <span class=md-ellipsis> Wordpress </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_19_2_label aria-expanded=false> <label class=md-nav__title for=__nav_19_2> <span class="md-nav__icon md-icon"></span> Wordpress </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../web/wordpress/migrate_wordpress_sql/ class=md-nav__link> <span class=md-ellipsis> Requêtes SQL pour migrer son WordPress </span> </a> </li> <li class=md-nav__item> <a href=../../../../web/wordpress/tips_sql/ class=md-nav__link> <span class=md-ellipsis> Requêtes SQL afin d'optimiser son site </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20> <label class=md-nav__link for=__nav_20 id=__nav_20_label tabindex=0> <span class=md-ellipsis> Windows </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_20_label aria-expanded=false> <label class=md-nav__title for=__nav_20> <span class="md-nav__icon md-icon"></span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_1> <label class=md-nav__link for=__nav_20_1 id=__nav_20_1_label tabindex=0> <span class=md-ellipsis> Desktop </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_20_1_label aria-expanded=false> <label class=md-nav__title for=__nav_20_1> <span class="md-nav__icon md-icon"></span> Desktop </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_1_1> <label class=md-nav__link for=__nav_20_1_1 id=__nav_20_1_1_label tabindex=0> <span class=md-ellipsis> Soft </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_20_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_20_1_1> <span class="md-nav__icon md-icon"></span> Soft </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/desktop/soft/ads_skype/ class=md-nav__link> <span class=md-ellipsis> Ads skype </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_1_2> <label class=md-nav__link for=__nav_20_1_2 id=__nav_20_1_2_label tabindex=0> <span class=md-ellipsis> Tips </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_20_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_20_1_2> <span class="md-nav__icon md-icon"></span> Tips </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/desktop/tips/hosts_file/ class=md-nav__link> <span class=md-ellipsis> Hosts File </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/desktop/tips/improve_privacy/ class=md-nav__link> <span class=md-ellipsis> Improve privacy </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/desktop/tips/install_main_softwares/ class=md-nav__link> <span class=md-ellipsis> Installer tous les logiciels de base via un simple installateur </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/desktop/tips/long_path/ class=md-nav__link> <span class=md-ellipsis> Long path </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2> <label class=md-nav__link for=__nav_20_2 id=__nav_20_2_label tabindex=0> <span class=md-ellipsis> Server </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_20_2_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2> <span class="md-nav__icon md-icon"></span> Server </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2_1> <label class=md-nav__link for=__nav_20_2_1 id=__nav_20_2_1_label tabindex=0> <span class=md-ellipsis> Admin </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_20_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2_1> <span class="md-nav__icon md-icon"></span> Admin </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2_1_1> <label class=md-nav__link for=__nav_20_2_1_1 id=__nav_20_2_1_1_label tabindex=0> <span class=md-ellipsis> Jobs </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_20_2_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2_1_1> <span class="md-nav__icon md-icon"></span> Jobs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/server/admin/jobs/schedule_jobs_scripts/ class=md-nav__link> <span class=md-ellipsis> Exécuter un script PowerShell via une tâche planifiée </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2_2> <label class=md-nav__link for=__nav_20_2_2 id=__nav_20_2_2_label tabindex=0> <span class=md-ellipsis> Core </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_20_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2_2> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/server/core/setup_default_powershell/ class=md-nav__link> <span class=md-ellipsis> Définir PowerShell en temps que shell par défaut </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2_3> <label class=md-nav__link for=__nav_20_2_3 id=__nav_20_2_3_label tabindex=0> <span class=md-ellipsis> Firewall </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_20_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2_3> <span class="md-nav__icon md-icon"></span> Firewall </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/server/firewall/access_without_shortcut/ class=md-nav__link> <span class=md-ellipsis> Accéder au Firewall sans Icône ni raccourci </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2_4> <label class=md-nav__link for=__nav_20_2_4 id=__nav_20_2_4_label tabindex=0> <span class=md-ellipsis> Powershell </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_20_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2_4> <span class="md-nav__icon md-icon"></span> Powershell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/server/powershell/ad_server/ class=md-nav__link> <span class=md-ellipsis> Ad server </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/allow_icmp/ class=md-nav__link> <span class=md-ellipsis> Autoriser l'ICMP sur un serveur Windows 2012R2 en PowerShell </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/command_time_execution/ class=md-nav__link> <span class=md-ellipsis> Connaitre le temps d'exécution d'une commande PowerShell </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/dhcp_server/ class=md-nav__link> <span class=md-ellipsis> Installer et configurer un serveur DHCP en PowerShell </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/disable_tlsv1/ class=md-nav__link> <span class=md-ellipsis> Désactiver TLSv1 et TLSv1.1 </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/exceptions/ class=md-nav__link> <span class=md-ellipsis> Exceptions </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/first_setup/ class=md-nav__link> <span class=md-ellipsis> Setup de base d'un Windows 2012R2 </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/import_csv_users/ class=md-nav__link> <span class=md-ellipsis> Importer des utilisateurs CSV dans un AD via PowerShell </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/initiate_iscsi/ class=md-nav__link> <span class=md-ellipsis> Initier des connexions iSCSi en CLI </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/install_drivers/ class=md-nav__link> <span class=md-ellipsis> Installer des drivers via PowerShell </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/mount_iso/ class=md-nav__link> <span class=md-ellipsis> Monter un ISO directement via PowerShell </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/ssh/ class=md-nav__link> <span class=md-ellipsis> Ssh </span> </a> </li> <li class=md-nav__item> <a href=../../../../windows/server/powershell/useful_vars/ class=md-nav__link> <span class=md-ellipsis> Variables built-in utiles </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2_4_14> <label class=md-nav__link for=__nav_20_2_4_14 id=__nav_20_2_4_14_label tabindex=0> <span class=md-ellipsis> Storage </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_20_2_4_14_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2_4_14> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/server/powershell/storage/pool/ class=md-nav__link> <span class=md-ellipsis> Pool </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_20_2_5> <label class=md-nav__link for=__nav_20_2_5 id=__nav_20_2_5_label tabindex=0> <span class=md-ellipsis> Registry </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_20_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_20_2_5> <span class="md-nav__icon md-icon"></span> Registry </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../../windows/server/registry/useful_keys/ class=md-nav__link> <span class=md-ellipsis> Clés de Registre Utiles </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=config-varnish>Config varnish</h1> <p>Bonne config trouvée de Git que je reposte ici si jamais : <a href=https://gist.github.com/davidthingsaker/6b0997b641fdd370a395>Gist</a></p> <details class=example> <summary>Example : /etc/varnish/default.vcl</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1>#########################################################################</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=c1># This is an example VCL file for Varnish 4.0.              #</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=c1># From: https://gist.github.com/davidthingsaker/6b0997b641fdd370a395    #</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=c1># LICENSE: If this could help you in any way, you are obliged to use it #</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=c1># for free with no limitations.                     #</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=c1>#########################################################################</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=c1># Marker to tell the VCL compiler that this VCL has been adapted to the</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=c1># new 4.0 format.</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a>vcl<span class=w> </span><span class=m>4</span>.0<span class=p>;</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a>import<span class=w> </span>std<span class=p>;</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=c1># Default backend definition. Set this to point to your content server.</span>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a>backend<span class=w> </span>default<span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a><span class=w>    </span>.host<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;127.0.0.1&quot;</span><span class=p>;</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a><span class=w>    </span>.port<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;8080&quot;</span><span class=p>;</span>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a><span class=o>}</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a>sub<span class=w> </span>vcl_recv<span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-22 name=__codelineno-0-22 href=#__codelineno-0-22></a><span class=w>    </span><span class=c1># Happens before we check if we have this in cache already.</span>
<a id=__codelineno-0-23 name=__codelineno-0-23 href=#__codelineno-0-23></a><span class=w>    </span><span class=c1>#</span>
<a id=__codelineno-0-24 name=__codelineno-0-24 href=#__codelineno-0-24></a><span class=w>    </span><span class=c1># Typically you clean up the request here, removing cookies you dont need,</span>
<a id=__codelineno-0-25 name=__codelineno-0-25 href=#__codelineno-0-25></a><span class=w>    </span><span class=c1># rewriting the request, etc.</span>
<a id=__codelineno-0-26 name=__codelineno-0-26 href=#__codelineno-0-26></a>
<a id=__codelineno-0-27 name=__codelineno-0-27 href=#__codelineno-0-27></a><span class=w>    </span><span class=c1># Properly handle different encoding types</span>
<a id=__codelineno-0-28 name=__codelineno-0-28 href=#__codelineno-0-28></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.Accept-Encoding<span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-29 name=__codelineno-0-29 href=#__codelineno-0-29></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(jpg|jpeg|png|gif|gz|tgz|bz2|tbz|mp3|ogg|swf|woff)</span>$<span class=s2>&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-30 name=__codelineno-0-30 href=#__codelineno-0-30></a><span class=w>                </span><span class=c1># No point in compressing these</span>
<a id=__codelineno-0-31 name=__codelineno-0-31 href=#__codelineno-0-31></a><span class=w>                </span><span class=nb>unset</span><span class=w> </span>req.http.Accept-Encoding<span class=p>;</span>
<a id=__codelineno-0-32 name=__codelineno-0-32 href=#__codelineno-0-32></a><span class=w>        </span><span class=o>}</span><span class=w> </span>elsif<span class=w> </span><span class=o>(</span>req.http.Accept-Encoding<span class=w> </span>~<span class=w> </span><span class=s2>&quot;gzip&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-33 name=__codelineno-0-33 href=#__codelineno-0-33></a><span class=w>                </span><span class=nb>set</span><span class=w> </span>req.http.Accept-Encoding<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;gzip&quot;</span><span class=p>;</span>
<a id=__codelineno-0-34 name=__codelineno-0-34 href=#__codelineno-0-34></a><span class=w>        </span><span class=o>}</span><span class=w> </span>elsif<span class=w> </span><span class=o>(</span>req.http.Accept-Encoding<span class=w> </span>~<span class=w> </span><span class=s2>&quot;deflate&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-35 name=__codelineno-0-35 href=#__codelineno-0-35></a><span class=w>                </span><span class=nb>set</span><span class=w> </span>req.http.Accept-Encoding<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;deflate&quot;</span><span class=p>;</span>
<a id=__codelineno-0-36 name=__codelineno-0-36 href=#__codelineno-0-36></a><span class=w>        </span><span class=o>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-37 name=__codelineno-0-37 href=#__codelineno-0-37></a><span class=w>                </span><span class=c1># unknown algorithm (aka crappy browser)</span>
<a id=__codelineno-0-38 name=__codelineno-0-38 href=#__codelineno-0-38></a><span class=w>            </span><span class=nb>unset</span><span class=w> </span>req.http.Accept-Encoding<span class=p>;</span>
<a id=__codelineno-0-39 name=__codelineno-0-39 href=#__codelineno-0-39></a><span class=w>        </span><span class=o>}</span>
<a id=__codelineno-0-40 name=__codelineno-0-40 href=#__codelineno-0-40></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-0-41 name=__codelineno-0-41 href=#__codelineno-0-41></a>
<a id=__codelineno-0-42 name=__codelineno-0-42 href=#__codelineno-0-42></a><span class=w>    </span><span class=c1># Cache files with these extensions</span>
<a id=__codelineno-0-43 name=__codelineno-0-43 href=#__codelineno-0-43></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(js|css|jpg|jpeg|png|gif|gz|tgz|bz2|tbz|mp3|ogg|swf|woff)</span>$<span class=s2>&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-44 name=__codelineno-0-44 href=#__codelineno-0-44></a><span class=w>        </span><span class=nb>unset</span><span class=w> </span>req.http.cookie<span class=p>;</span>
<a id=__codelineno-0-45 name=__codelineno-0-45 href=#__codelineno-0-45></a><span class=w>        </span><span class=k>return</span><span class=w> </span><span class=o>(</span><span class=nb>hash</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-0-46 name=__codelineno-0-46 href=#__codelineno-0-46></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-0-47 name=__codelineno-0-47 href=#__codelineno-0-47></a>
<a id=__codelineno-0-48 name=__codelineno-0-48 href=#__codelineno-0-48></a><span class=w>    </span><span class=c1># Dont cache anything thats on the blog page or thats a POST request</span>
<a id=__codelineno-0-49 name=__codelineno-0-49 href=#__codelineno-0-49></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;^/blog&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.method<span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;POST&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-50 name=__codelineno-0-50 href=#__codelineno-0-50></a><span class=w>            </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-0-51 name=__codelineno-0-51 href=#__codelineno-0-51></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-0-52 name=__codelineno-0-52 href=#__codelineno-0-52></a>
<a id=__codelineno-0-53 name=__codelineno-0-53 href=#__codelineno-0-53></a><span class=w>    </span><span class=c1># This is Laravel specific, we have session-monster which sets a no-session header if we dont really need the set session cookie.</span>
<a id=__codelineno-0-54 name=__codelineno-0-54 href=#__codelineno-0-54></a><span class=w>    </span><span class=c1># Check for this and unset the cookies if not required</span>
<a id=__codelineno-0-55 name=__codelineno-0-55 href=#__codelineno-0-55></a><span class=w>    </span><span class=c1># Except if its a POST request</span>
<a id=__codelineno-0-56 name=__codelineno-0-56 href=#__codelineno-0-56></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.X-No-Session<span class=w> </span>~<span class=w> </span><span class=s2>&quot;yeah&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>req.method<span class=w> </span>!<span class=o>=</span><span class=w> </span><span class=s2>&quot;POST&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-57 name=__codelineno-0-57 href=#__codelineno-0-57></a><span class=w>            </span><span class=nb>unset</span><span class=w> </span>req.http.cookie<span class=p>;</span>
<a id=__codelineno-0-58 name=__codelineno-0-58 href=#__codelineno-0-58></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-0-59 name=__codelineno-0-59 href=#__codelineno-0-59></a>
<a id=__codelineno-0-60 name=__codelineno-0-60 href=#__codelineno-0-60></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>(</span><span class=nb>hash</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-0-61 name=__codelineno-0-61 href=#__codelineno-0-61></a><span class=o>}</span>
<a id=__codelineno-0-62 name=__codelineno-0-62 href=#__codelineno-0-62></a>
<a id=__codelineno-0-63 name=__codelineno-0-63 href=#__codelineno-0-63></a>sub<span class=w> </span>vcl_backend_response<span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-64 name=__codelineno-0-64 href=#__codelineno-0-64></a><span class=w>    </span><span class=c1># Happens after we have read the response headers from the backend.</span>
<a id=__codelineno-0-65 name=__codelineno-0-65 href=#__codelineno-0-65></a><span class=w>    </span><span class=c1>#</span>
<a id=__codelineno-0-66 name=__codelineno-0-66 href=#__codelineno-0-66></a><span class=w>    </span><span class=c1># Here you clean the response headers, removing silly Set-Cookie headers</span>
<a id=__codelineno-0-67 name=__codelineno-0-67 href=#__codelineno-0-67></a><span class=w>    </span><span class=c1># and other mistakes your backend does.</span>
<a id=__codelineno-0-68 name=__codelineno-0-68 href=#__codelineno-0-68></a>
<a id=__codelineno-0-69 name=__codelineno-0-69 href=#__codelineno-0-69></a><span class=w>    </span><span class=c1># This is how long Varnish will cache content. Set at top for visibility.</span>
<a id=__codelineno-0-70 name=__codelineno-0-70 href=#__codelineno-0-70></a><span class=w>    </span><span class=nb>set</span><span class=w> </span>beresp.ttl<span class=w> </span><span class=o>=</span><span class=w> </span>1d<span class=p>;</span>
<a id=__codelineno-0-71 name=__codelineno-0-71 href=#__codelineno-0-71></a>
<a id=__codelineno-0-72 name=__codelineno-0-72 href=#__codelineno-0-72></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=o>((</span>bereq.method<span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;GET&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>bereq.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(css|js|xml|gif|jpg|jpeg|swf|png|zip|ico|img|wmf|txt)</span>$<span class=s2>&quot;</span><span class=o>)</span><span class=w> </span><span class=o>||</span>
<a id=__codelineno-0-73 name=__codelineno-0-73 href=#__codelineno-0-73></a><span class=w>                </span>bereq.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(minify).*&#39;.(css|js).*&quot;</span><span class=w> </span><span class=o>||</span>
<a id=__codelineno-0-74 name=__codelineno-0-74 href=#__codelineno-0-74></a><span class=w>                </span>bereq.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(css|js|xml|gif|jpg|jpeg|swf|png|zip|ico|img|wmf|txt)&#39;?ver&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-75 name=__codelineno-0-75 href=#__codelineno-0-75></a><span class=w>                </span><span class=nb>unset</span><span class=w> </span>beresp.http.Set-Cookie<span class=p>;</span>
<a id=__codelineno-0-76 name=__codelineno-0-76 href=#__codelineno-0-76></a><span class=w>                </span><span class=nb>set</span><span class=w> </span>beresp.ttl<span class=w> </span><span class=o>=</span><span class=w> </span>5d<span class=p>;</span>
<a id=__codelineno-0-77 name=__codelineno-0-77 href=#__codelineno-0-77></a><span class=w>        </span><span class=o>}</span>
<a id=__codelineno-0-78 name=__codelineno-0-78 href=#__codelineno-0-78></a>
<a id=__codelineno-0-79 name=__codelineno-0-79 href=#__codelineno-0-79></a><span class=w>    </span><span class=c1># Unset all cache control headers bar Age.</span>
<a id=__codelineno-0-80 name=__codelineno-0-80 href=#__codelineno-0-80></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>beresp.http.etag<span class=p>;</span>
<a id=__codelineno-0-81 name=__codelineno-0-81 href=#__codelineno-0-81></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>beresp.http.Cache-Control<span class=p>;</span>
<a id=__codelineno-0-82 name=__codelineno-0-82 href=#__codelineno-0-82></a><span class=w>        </span><span class=nb>unset</span><span class=w> </span>beresp.http.Pragma<span class=p>;</span>
<a id=__codelineno-0-83 name=__codelineno-0-83 href=#__codelineno-0-83></a>
<a id=__codelineno-0-84 name=__codelineno-0-84 href=#__codelineno-0-84></a><span class=w>    </span><span class=c1># Unset headers we never want someone to see on the front end</span>
<a id=__codelineno-0-85 name=__codelineno-0-85 href=#__codelineno-0-85></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>beresp.http.Server<span class=p>;</span>
<a id=__codelineno-0-86 name=__codelineno-0-86 href=#__codelineno-0-86></a><span class=w>        </span><span class=nb>unset</span><span class=w> </span>beresp.http.X-Powered-By<span class=p>;</span>
<a id=__codelineno-0-87 name=__codelineno-0-87 href=#__codelineno-0-87></a>
<a id=__codelineno-0-88 name=__codelineno-0-88 href=#__codelineno-0-88></a><span class=w>        </span><span class=c1># Set how long the client should keep the item by default</span>
<a id=__codelineno-0-89 name=__codelineno-0-89 href=#__codelineno-0-89></a><span class=w>        </span><span class=nb>set</span><span class=w> </span>beresp.http.cache-control<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;max-age = 300&quot;</span><span class=p>;</span>
<a id=__codelineno-0-90 name=__codelineno-0-90 href=#__codelineno-0-90></a>
<a id=__codelineno-0-91 name=__codelineno-0-91 href=#__codelineno-0-91></a><span class=w>        </span><span class=c1># Set how long the client should keep the item by default</span>
<a id=__codelineno-0-92 name=__codelineno-0-92 href=#__codelineno-0-92></a><span class=w>        </span><span class=nb>set</span><span class=w> </span>beresp.http.cache-control<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;max-age = 300&quot;</span><span class=p>;</span>
<a id=__codelineno-0-93 name=__codelineno-0-93 href=#__codelineno-0-93></a>
<a id=__codelineno-0-94 name=__codelineno-0-94 href=#__codelineno-0-94></a><span class=w>        </span><span class=c1># Override browsers to keep styling and dynamics for longer</span>
<a id=__codelineno-0-95 name=__codelineno-0-95 href=#__codelineno-0-95></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=o>(</span>bereq.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;.minify.*&#39;.(css|js).*&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span><span class=w> </span><span class=nb>set</span><span class=w> </span>beresp.http.cache-control<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;max-age = 604800&quot;</span><span class=p>;</span><span class=w> </span><span class=o>}</span>
<a id=__codelineno-0-96 name=__codelineno-0-96 href=#__codelineno-0-96></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=o>(</span>bereq.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(css|js).*&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span><span class=w> </span><span class=nb>set</span><span class=w> </span>beresp.http.cache-control<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;max-age = 604800&quot;</span><span class=p>;</span><span class=w> </span><span class=o>}</span>
<a id=__codelineno-0-97 name=__codelineno-0-97 href=#__codelineno-0-97></a>
<a id=__codelineno-0-98 name=__codelineno-0-98 href=#__codelineno-0-98></a><span class=w>        </span><span class=c1># Override the browsers to cache longer for images than for main content</span>
<a id=__codelineno-0-99 name=__codelineno-0-99 href=#__codelineno-0-99></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=o>(</span>bereq.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;.(xml|gif|jpg|jpeg|swf|css|js|png|zip|ico|img|wmf|txt)</span>$<span class=s2>&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-100 name=__codelineno-0-100 href=#__codelineno-0-100></a><span class=w>                </span><span class=nb>set</span><span class=w> </span>beresp.http.cache-control<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;max-age = 604800&quot;</span><span class=p>;</span>
<a id=__codelineno-0-101 name=__codelineno-0-101 href=#__codelineno-0-101></a><span class=w>        </span><span class=o>}</span>
<a id=__codelineno-0-102 name=__codelineno-0-102 href=#__codelineno-0-102></a>
<a id=__codelineno-0-103 name=__codelineno-0-103 href=#__codelineno-0-103></a><span class=w>    </span><span class=c1># Were done here, send the data to the browser</span>
<a id=__codelineno-0-104 name=__codelineno-0-104 href=#__codelineno-0-104></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>(</span>deliver<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-0-105 name=__codelineno-0-105 href=#__codelineno-0-105></a><span class=o>}</span>
<a id=__codelineno-0-106 name=__codelineno-0-106 href=#__codelineno-0-106></a>
<a id=__codelineno-0-107 name=__codelineno-0-107 href=#__codelineno-0-107></a>
<a id=__codelineno-0-108 name=__codelineno-0-108 href=#__codelineno-0-108></a>sub<span class=w> </span>vcl_deliver<span class=w> </span><span class=o>{</span>
<a id=__codelineno-0-109 name=__codelineno-0-109 href=#__codelineno-0-109></a><span class=w>    </span><span class=c1># Happens when we have all the pieces we need, and are about to send the</span>
<a id=__codelineno-0-110 name=__codelineno-0-110 href=#__codelineno-0-110></a><span class=w>    </span><span class=c1># response to the client.</span>
<a id=__codelineno-0-111 name=__codelineno-0-111 href=#__codelineno-0-111></a><span class=w>    </span><span class=c1>#</span>
<a id=__codelineno-0-112 name=__codelineno-0-112 href=#__codelineno-0-112></a><span class=w>    </span><span class=c1># You can do accounting or modifying the final object here.</span>
<a id=__codelineno-0-113 name=__codelineno-0-113 href=#__codelineno-0-113></a>
<a id=__codelineno-0-114 name=__codelineno-0-114 href=#__codelineno-0-114></a><span class=w>    </span><span class=c1># Lets not tell the world we are using Varnish in the same principle we set server_tokens off in Nginx</span>
<a id=__codelineno-0-115 name=__codelineno-0-115 href=#__codelineno-0-115></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>resp.http.Via<span class=p>;</span>
<a id=__codelineno-0-116 name=__codelineno-0-116 href=#__codelineno-0-116></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>resp.http.X-Varnish<span class=p>;</span>
<a id=__codelineno-0-117 name=__codelineno-0-117 href=#__codelineno-0-117></a><span class=o>}</span>
</code></pre></div> </details> <p>Cette autre config orientée pour WordPress est également bien <a href=https://gist.github.com/dz0ny/1570859/05fa3a96b45ceb6a78e424be420bafdb9f072a7e>Gist</a> :</p> <details class=example> <summary>Example 2 : /etc/varnish/default.vcl</summary> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1># Set the default backend (Nginx server for me)</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>backend<span class=w> </span>default<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>  </span><span class=c1># My Nginx server listen on IP address 127.0.0.1 and TCP port 8080</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>  </span>.host<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;localhost&quot;</span><span class=p>;</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>  </span>.port<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;80&quot;</span><span class=p>;</span>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>  </span>.first_byte_timeout<span class=w> </span><span class=o>=</span><span class=w> </span>300s<span class=p>;</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=o>}</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=c1># Purge ACL</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a>acl<span class=w> </span>purge<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>        </span><span class=s2>&quot;127.0.0.1&quot;</span><span class=p>;</span>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=o>}</span>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=c1># This function is used when a request is send by a HTTP client (Browser)</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=c1># !!! Replace: blog.nicolargo.com by your own URL !!!</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>sub<span class=w> </span>vcl_recv<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=w>  </span>call<span class=w> </span>detect_device<span class=p>;</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=w>  </span><span class=c1>#nginx&amp;php-fpm fix</span>
<a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.X-Forwarded-For<span class=w> </span><span class=o>=</span><span class=w> </span>client.ip<span class=p>;</span>
<a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.Host<span class=w> </span><span class=o>=</span><span class=w> </span>regsub<span class=o>(</span>req.http.Host,<span class=w> </span><span class=s2>&quot;:[0-9]+&quot;</span>,<span class=w> </span><span class=s2>&quot;&quot;</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a>
<a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=w>  </span><span class=c1># Allow purging from ACL</span>
<a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.request<span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;PURGE&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=w>    </span><span class=c1># If not allowed then a error 405 is returned</span>
<a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=o>(</span>!client.ip<span class=w> </span>~<span class=w> </span>purge<span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=w>      </span>error<span class=w> </span><span class=m>405</span><span class=w> </span><span class=s2>&quot;This IP is not allowed to send PURGE requests.&quot;</span><span class=p>;</span>
<a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=w>    </span><span class=c1># If allowed, do a cache_lookup -&gt; vlc_hit() or vlc_miss()</span>
<a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>(</span>lookup<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a>
<a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a><span class=w>  </span><span class=c1># Post requests will not be cached</span>
<a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.request<span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;POST&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a>
<a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a><span class=w>  </span><span class=c1># --- Wordpress specific configuration</span>
<a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a>
<a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a><span class=w>  </span><span class=c1># Did not cache the RSS feed</span>
<a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;/feed&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-43 name=__codelineno-1-43 href=#__codelineno-1-43></a><span class=w>      </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-44 name=__codelineno-1-44 href=#__codelineno-1-44></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-45 name=__codelineno-1-45 href=#__codelineno-1-45></a>
<a id=__codelineno-1-46 name=__codelineno-1-46 href=#__codelineno-1-46></a><span class=w>  </span><span class=c1># Did not cache the admin and login pages</span>
<a id=__codelineno-1-47 name=__codelineno-1-47 href=#__codelineno-1-47></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;/wp-(login|admin)&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-48 name=__codelineno-1-48 href=#__codelineno-1-48></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-49 name=__codelineno-1-49 href=#__codelineno-1-49></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-50 name=__codelineno-1-50 href=#__codelineno-1-50></a>
<a id=__codelineno-1-51 name=__codelineno-1-51 href=#__codelineno-1-51></a><span class=w>  </span>//<span class=w> </span>server1<span class=w> </span>must<span class=w> </span>handle<span class=w> </span>file<span class=w> </span>uploads
<a id=__codelineno-1-52 name=__codelineno-1-52 href=#__codelineno-1-52></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;media-upload.php&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;file.php&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;async-upload.php&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-53 name=__codelineno-1-53 href=#__codelineno-1-53></a><span class=w>    </span><span class=k>return</span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-54 name=__codelineno-1-54 href=#__codelineno-1-54></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-55 name=__codelineno-1-55 href=#__codelineno-1-55></a>
<a id=__codelineno-1-56 name=__codelineno-1-56 href=#__codelineno-1-56></a><span class=w>  </span>//<span class=w> </span><span class=k>do</span><span class=w> </span>not<span class=w> </span>cache<span class=w> </span>xmlrpc.php
<a id=__codelineno-1-57 name=__codelineno-1-57 href=#__codelineno-1-57></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;xmlrpc.php&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-58 name=__codelineno-1-58 href=#__codelineno-1-58></a><span class=w>    </span><span class=k>return</span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-59 name=__codelineno-1-59 href=#__codelineno-1-59></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-60 name=__codelineno-1-60 href=#__codelineno-1-60></a>
<a id=__codelineno-1-61 name=__codelineno-1-61 href=#__codelineno-1-61></a><span class=w>  </span>//<span class=w> </span>strip<span class=w> </span>cookies<span class=w> </span>from<span class=w> </span>xmlrpc
<a id=__codelineno-1-62 name=__codelineno-1-62 href=#__codelineno-1-62></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.request<span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;GET&quot;</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;xmlrpc.php&quot;</span><span class=o>){</span>
<a id=__codelineno-1-63 name=__codelineno-1-63 href=#__codelineno-1-63></a><span class=w>      </span>remove<span class=w> </span>req.http.cookie<span class=p>;</span><span class=k>return</span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-64 name=__codelineno-1-64 href=#__codelineno-1-64></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-65 name=__codelineno-1-65 href=#__codelineno-1-65></a>
<a id=__codelineno-1-66 name=__codelineno-1-66 href=#__codelineno-1-66></a><span class=w>  </span><span class=c1># Remove the &quot;has_js&quot; cookie</span>
<a id=__codelineno-1-67 name=__codelineno-1-67 href=#__codelineno-1-67></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.Cookie<span class=w> </span><span class=o>=</span><span class=w> </span>regsuball<span class=o>(</span>req.http.Cookie,<span class=w> </span><span class=s2>&quot;has_js=[^;]+(; )?&quot;</span>,<span class=w> </span><span class=s2>&quot;&quot;</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-68 name=__codelineno-1-68 href=#__codelineno-1-68></a>
<a id=__codelineno-1-69 name=__codelineno-1-69 href=#__codelineno-1-69></a><span class=w>  </span><span class=c1># Remove any Google Analytics based cookies</span>
<a id=__codelineno-1-70 name=__codelineno-1-70 href=#__codelineno-1-70></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.Cookie<span class=w> </span><span class=o>=</span><span class=w> </span>regsuball<span class=o>(</span>req.http.Cookie,<span class=w> </span><span class=s2>&quot;__utm.=[^;]+(; )?&quot;</span>,<span class=w> </span><span class=s2>&quot;&quot;</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-71 name=__codelineno-1-71 href=#__codelineno-1-71></a>
<a id=__codelineno-1-72 name=__codelineno-1-72 href=#__codelineno-1-72></a><span class=w>  </span><span class=c1># Remove the Quant Capital cookies (added by some plugin, all __qca)</span>
<a id=__codelineno-1-73 name=__codelineno-1-73 href=#__codelineno-1-73></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.Cookie<span class=w> </span><span class=o>=</span><span class=w> </span>regsuball<span class=o>(</span>req.http.Cookie,<span class=w> </span><span class=s2>&quot;__qc.=[^;]+(; )?&quot;</span>,<span class=w> </span><span class=s2>&quot;&quot;</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-74 name=__codelineno-1-74 href=#__codelineno-1-74></a>
<a id=__codelineno-1-75 name=__codelineno-1-75 href=#__codelineno-1-75></a><span class=w>  </span><span class=c1># Remove the wp-settings-1 cookie</span>
<a id=__codelineno-1-76 name=__codelineno-1-76 href=#__codelineno-1-76></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.Cookie<span class=w> </span><span class=o>=</span><span class=w> </span>regsuball<span class=o>(</span>req.http.Cookie,<span class=w> </span><span class=s2>&quot;wp-settings-1=[^;]+(; )?&quot;</span>,<span class=w> </span><span class=s2>&quot;&quot;</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-77 name=__codelineno-1-77 href=#__codelineno-1-77></a>
<a id=__codelineno-1-78 name=__codelineno-1-78 href=#__codelineno-1-78></a><span class=w>  </span><span class=c1># Remove the wp-settings-time-1 cookie</span>
<a id=__codelineno-1-79 name=__codelineno-1-79 href=#__codelineno-1-79></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.Cookie<span class=w> </span><span class=o>=</span><span class=w> </span>regsuball<span class=o>(</span>req.http.Cookie,<span class=w> </span><span class=s2>&quot;wp-settings-time-1=[^;]+(; )?&quot;</span>,<span class=w> </span><span class=s2>&quot;&quot;</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-80 name=__codelineno-1-80 href=#__codelineno-1-80></a>
<a id=__codelineno-1-81 name=__codelineno-1-81 href=#__codelineno-1-81></a><span class=w>  </span><span class=c1># Remove the wp test cookie</span>
<a id=__codelineno-1-82 name=__codelineno-1-82 href=#__codelineno-1-82></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.Cookie<span class=w> </span><span class=o>=</span><span class=w> </span>regsuball<span class=o>(</span>req.http.Cookie,<span class=w> </span><span class=s2>&quot;wordpress_test_cookie=[^;]+(; )?&quot;</span>,<span class=w> </span><span class=s2>&quot;&quot;</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-83 name=__codelineno-1-83 href=#__codelineno-1-83></a>
<a id=__codelineno-1-84 name=__codelineno-1-84 href=#__codelineno-1-84></a><span class=w>  </span><span class=c1># Are there cookies left with only spaces or that are empty?</span>
<a id=__codelineno-1-85 name=__codelineno-1-85 href=#__codelineno-1-85></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.cookie<span class=w> </span>~<span class=w> </span><span class=s2>&quot;^ *</span>$<span class=s2>&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-86 name=__codelineno-1-86 href=#__codelineno-1-86></a><span class=w>        </span><span class=nb>unset</span><span class=w> </span>req.http.cookie<span class=p>;</span>
<a id=__codelineno-1-87 name=__codelineno-1-87 href=#__codelineno-1-87></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-88 name=__codelineno-1-88 href=#__codelineno-1-88></a>
<a id=__codelineno-1-89 name=__codelineno-1-89 href=#__codelineno-1-89></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.Accept-Encoding<span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-90 name=__codelineno-1-90 href=#__codelineno-1-90></a><span class=w>    </span><span class=c1># Do no compress compressed files...</span>
<a id=__codelineno-1-91 name=__codelineno-1-91 href=#__codelineno-1-91></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(jpg|png|gif|gz|tgz|bz2|tbz|mp3|ogg)</span>$<span class=s2>&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-92 name=__codelineno-1-92 href=#__codelineno-1-92></a><span class=w>          </span>remove<span class=w> </span>req.http.Accept-Encoding<span class=p>;</span>
<a id=__codelineno-1-93 name=__codelineno-1-93 href=#__codelineno-1-93></a><span class=w>    </span><span class=o>}</span><span class=w> </span>elsif<span class=w> </span><span class=o>(</span>req.http.Accept-Encoding<span class=w> </span>~<span class=w> </span><span class=s2>&quot;gzip&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-94 name=__codelineno-1-94 href=#__codelineno-1-94></a><span class=w>          </span><span class=nb>set</span><span class=w> </span>req.http.Accept-Encoding<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;gzip&quot;</span><span class=p>;</span>
<a id=__codelineno-1-95 name=__codelineno-1-95 href=#__codelineno-1-95></a><span class=w>    </span><span class=o>}</span><span class=w> </span>elsif<span class=w> </span><span class=o>(</span>req.http.Accept-Encoding<span class=w> </span>~<span class=w> </span><span class=s2>&quot;deflate&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-96 name=__codelineno-1-96 href=#__codelineno-1-96></a><span class=w>          </span><span class=nb>set</span><span class=w> </span>req.http.Accept-Encoding<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;deflate&quot;</span><span class=p>;</span>
<a id=__codelineno-1-97 name=__codelineno-1-97 href=#__codelineno-1-97></a><span class=w>    </span><span class=o>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-98 name=__codelineno-1-98 href=#__codelineno-1-98></a><span class=w>      </span>remove<span class=w> </span>req.http.Accept-Encoding<span class=p>;</span>
<a id=__codelineno-1-99 name=__codelineno-1-99 href=#__codelineno-1-99></a><span class=w>    </span><span class=o>}</span>
<a id=__codelineno-1-100 name=__codelineno-1-100 href=#__codelineno-1-100></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-101 name=__codelineno-1-101 href=#__codelineno-1-101></a>
<a id=__codelineno-1-102 name=__codelineno-1-102 href=#__codelineno-1-102></a><span class=w>  </span><span class=c1># Cache the following files extensions</span>
<a id=__codelineno-1-103 name=__codelineno-1-103 href=#__codelineno-1-103></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(css|js|png|gif|jp(e)?g)&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-104 name=__codelineno-1-104 href=#__codelineno-1-104></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>req.http.cookie<span class=p>;</span>
<a id=__codelineno-1-105 name=__codelineno-1-105 href=#__codelineno-1-105></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-106 name=__codelineno-1-106 href=#__codelineno-1-106></a>
<a id=__codelineno-1-107 name=__codelineno-1-107 href=#__codelineno-1-107></a><span class=w>  </span><span class=c1># Check the cookies for wordpress-specific items</span>
<a id=__codelineno-1-108 name=__codelineno-1-108 href=#__codelineno-1-108></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.Cookie<span class=w> </span>~<span class=w> </span><span class=s2>&quot;wordpress_&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.Cookie<span class=w> </span>~<span class=w> </span><span class=s2>&quot;comment_&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-109 name=__codelineno-1-109 href=#__codelineno-1-109></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-110 name=__codelineno-1-110 href=#__codelineno-1-110></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-111 name=__codelineno-1-111 href=#__codelineno-1-111></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>!req.http.cookie<span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-112 name=__codelineno-1-112 href=#__codelineno-1-112></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>req.http.cookie<span class=p>;</span>
<a id=__codelineno-1-113 name=__codelineno-1-113 href=#__codelineno-1-113></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-114 name=__codelineno-1-114 href=#__codelineno-1-114></a>
<a id=__codelineno-1-115 name=__codelineno-1-115 href=#__codelineno-1-115></a><span class=w>  </span><span class=c1># --- End of Wordpress specific configuration</span>
<a id=__codelineno-1-116 name=__codelineno-1-116 href=#__codelineno-1-116></a>
<a id=__codelineno-1-117 name=__codelineno-1-117 href=#__codelineno-1-117></a><span class=w>  </span><span class=c1># Did not cache HTTP authentication and HTTP Cookie</span>
<a id=__codelineno-1-118 name=__codelineno-1-118 href=#__codelineno-1-118></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.Authorization<span class=w> </span><span class=o>||</span><span class=w> </span>req.http.Cookie<span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-119 name=__codelineno-1-119 href=#__codelineno-1-119></a><span class=w>    </span><span class=c1># Not cacheable by default</span>
<a id=__codelineno-1-120 name=__codelineno-1-120 href=#__codelineno-1-120></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-121 name=__codelineno-1-121 href=#__codelineno-1-121></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-122 name=__codelineno-1-122 href=#__codelineno-1-122></a>
<a id=__codelineno-1-123 name=__codelineno-1-123 href=#__codelineno-1-123></a><span class=w>  </span><span class=c1># Cache all others requests</span>
<a id=__codelineno-1-124 name=__codelineno-1-124 href=#__codelineno-1-124></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>lookup<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-125 name=__codelineno-1-125 href=#__codelineno-1-125></a><span class=o>}</span>
<a id=__codelineno-1-126 name=__codelineno-1-126 href=#__codelineno-1-126></a>
<a id=__codelineno-1-127 name=__codelineno-1-127 href=#__codelineno-1-127></a>sub<span class=w> </span>vcl_pipe<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-128 name=__codelineno-1-128 href=#__codelineno-1-128></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pipe<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-129 name=__codelineno-1-129 href=#__codelineno-1-129></a><span class=o>}</span>
<a id=__codelineno-1-130 name=__codelineno-1-130 href=#__codelineno-1-130></a>
<a id=__codelineno-1-131 name=__codelineno-1-131 href=#__codelineno-1-131></a>sub<span class=w> </span>vcl_pass<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-132 name=__codelineno-1-132 href=#__codelineno-1-132></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>pass<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-133 name=__codelineno-1-133 href=#__codelineno-1-133></a><span class=o>}</span>
<a id=__codelineno-1-134 name=__codelineno-1-134 href=#__codelineno-1-134></a>
<a id=__codelineno-1-135 name=__codelineno-1-135 href=#__codelineno-1-135></a><span class=c1># The data on which the hashing will take place</span>
<a id=__codelineno-1-136 name=__codelineno-1-136 href=#__codelineno-1-136></a>sub<span class=w> </span>vcl_hash<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-137 name=__codelineno-1-137 href=#__codelineno-1-137></a><span class=w>  </span>hash_data<span class=o>(</span>req.url<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-138 name=__codelineno-1-138 href=#__codelineno-1-138></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.host<span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-139 name=__codelineno-1-139 href=#__codelineno-1-139></a><span class=w>      </span>hash_data<span class=o>(</span>req.http.host<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-140 name=__codelineno-1-140 href=#__codelineno-1-140></a><span class=w>  </span><span class=o>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-141 name=__codelineno-1-141 href=#__codelineno-1-141></a><span class=w>      </span>hash_data<span class=o>(</span>server.ip<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-142 name=__codelineno-1-142 href=#__codelineno-1-142></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-143 name=__codelineno-1-143 href=#__codelineno-1-143></a>
<a id=__codelineno-1-144 name=__codelineno-1-144 href=#__codelineno-1-144></a><span class=w>  </span><span class=c1># ensure separate cache for mobile clients (WPTouch workaround)</span>
<a id=__codelineno-1-145 name=__codelineno-1-145 href=#__codelineno-1-145></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.X-Device<span class=w> </span>~<span class=w> </span><span class=s2>&quot;smart&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.X-Device<span class=w> </span>~<span class=w> </span><span class=s2>&quot;other&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-146 name=__codelineno-1-146 href=#__codelineno-1-146></a><span class=w>    </span>hash_data<span class=o>(</span>req.http.X-Device<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-147 name=__codelineno-1-147 href=#__codelineno-1-147></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-148 name=__codelineno-1-148 href=#__codelineno-1-148></a>
<a id=__codelineno-1-149 name=__codelineno-1-149 href=#__codelineno-1-149></a><span class=w>  </span><span class=c1># If the client supports compression, keep that in a different cache</span>
<a id=__codelineno-1-150 name=__codelineno-1-150 href=#__codelineno-1-150></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.Accept-Encoding<span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-151 name=__codelineno-1-151 href=#__codelineno-1-151></a><span class=w>    </span>hash_data<span class=o>(</span>req.http.Accept-Encoding<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-152 name=__codelineno-1-152 href=#__codelineno-1-152></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-153 name=__codelineno-1-153 href=#__codelineno-1-153></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span><span class=nb>hash</span><span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-154 name=__codelineno-1-154 href=#__codelineno-1-154></a><span class=o>}</span>
<a id=__codelineno-1-155 name=__codelineno-1-155 href=#__codelineno-1-155></a>
<a id=__codelineno-1-156 name=__codelineno-1-156 href=#__codelineno-1-156></a>sub<span class=w> </span>detect_device<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-157 name=__codelineno-1-157 href=#__codelineno-1-157></a><span class=w>  </span><span class=c1># Define the desktop device and ipad</span>
<a id=__codelineno-1-158 name=__codelineno-1-158 href=#__codelineno-1-158></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>req.http.X-Device<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;desktop&quot;</span><span class=p>;</span>
<a id=__codelineno-1-159 name=__codelineno-1-159 href=#__codelineno-1-159></a>
<a id=__codelineno-1-160 name=__codelineno-1-160 href=#__codelineno-1-160></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;iP(hone|od)&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;Android&quot;</span><span class=w> </span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-161 name=__codelineno-1-161 href=#__codelineno-1-161></a><span class=w>    </span><span class=c1># Define smartphones and tablets</span>
<a id=__codelineno-1-162 name=__codelineno-1-162 href=#__codelineno-1-162></a><span class=w>    </span><span class=nb>set</span><span class=w> </span>req.http.X-Device<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;smart&quot;</span><span class=p>;</span>
<a id=__codelineno-1-163 name=__codelineno-1-163 href=#__codelineno-1-163></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-164 name=__codelineno-1-164 href=#__codelineno-1-164></a>
<a id=__codelineno-1-165 name=__codelineno-1-165 href=#__codelineno-1-165></a><span class=w>  </span>elseif<span class=w> </span><span class=o>(</span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;SymbianOS&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;^BlackBerry&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;^SonyEricsson&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;^Nokia&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;^SAMSUNG&quot;</span><span class=w> </span><span class=o>||</span><span class=w> </span>req.http.User-Agent<span class=w> </span>~<span class=w> </span><span class=s2>&quot;^LG&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-166 name=__codelineno-1-166 href=#__codelineno-1-166></a><span class=w>    </span><span class=c1># Define every other mobile device</span>
<a id=__codelineno-1-167 name=__codelineno-1-167 href=#__codelineno-1-167></a><span class=w>    </span><span class=nb>set</span><span class=w> </span>req.http.X-Device<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;other&quot;</span><span class=p>;</span>
<a id=__codelineno-1-168 name=__codelineno-1-168 href=#__codelineno-1-168></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-169 name=__codelineno-1-169 href=#__codelineno-1-169></a><span class=o>}</span>
<a id=__codelineno-1-170 name=__codelineno-1-170 href=#__codelineno-1-170></a>
<a id=__codelineno-1-171 name=__codelineno-1-171 href=#__codelineno-1-171></a>sub<span class=w> </span>vcl_hit<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-172 name=__codelineno-1-172 href=#__codelineno-1-172></a><span class=w>  </span><span class=c1># Allow purges</span>
<a id=__codelineno-1-173 name=__codelineno-1-173 href=#__codelineno-1-173></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.request<span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;PURGE&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-174 name=__codelineno-1-174 href=#__codelineno-1-174></a><span class=w>    </span>purge<span class=p>;</span>
<a id=__codelineno-1-175 name=__codelineno-1-175 href=#__codelineno-1-175></a><span class=w>    </span>error<span class=w> </span><span class=m>200</span><span class=w> </span><span class=s2>&quot;Purged.&quot;</span><span class=p>;</span>
<a id=__codelineno-1-176 name=__codelineno-1-176 href=#__codelineno-1-176></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-177 name=__codelineno-1-177 href=#__codelineno-1-177></a>
<a id=__codelineno-1-178 name=__codelineno-1-178 href=#__codelineno-1-178></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>deliver<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-179 name=__codelineno-1-179 href=#__codelineno-1-179></a><span class=o>}</span>
<a id=__codelineno-1-180 name=__codelineno-1-180 href=#__codelineno-1-180></a>
<a id=__codelineno-1-181 name=__codelineno-1-181 href=#__codelineno-1-181></a>sub<span class=w> </span>vcl_miss<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-182 name=__codelineno-1-182 href=#__codelineno-1-182></a><span class=w>  </span><span class=c1># Allow purges</span>
<a id=__codelineno-1-183 name=__codelineno-1-183 href=#__codelineno-1-183></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.request<span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;PURGE&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-184 name=__codelineno-1-184 href=#__codelineno-1-184></a><span class=w>    </span>purge<span class=p>;</span>
<a id=__codelineno-1-185 name=__codelineno-1-185 href=#__codelineno-1-185></a><span class=w>    </span>error<span class=w> </span><span class=m>200</span><span class=w> </span><span class=s2>&quot;Purged.&quot;</span><span class=p>;</span>
<a id=__codelineno-1-186 name=__codelineno-1-186 href=#__codelineno-1-186></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-187 name=__codelineno-1-187 href=#__codelineno-1-187></a>
<a id=__codelineno-1-188 name=__codelineno-1-188 href=#__codelineno-1-188></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>fetch<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-189 name=__codelineno-1-189 href=#__codelineno-1-189></a><span class=o>}</span>
<a id=__codelineno-1-190 name=__codelineno-1-190 href=#__codelineno-1-190></a>
<a id=__codelineno-1-191 name=__codelineno-1-191 href=#__codelineno-1-191></a><span class=c1># This function is used when a request is sent by our backend (Nginx server)</span>
<a id=__codelineno-1-192 name=__codelineno-1-192 href=#__codelineno-1-192></a>sub<span class=w> </span>vcl_fetch<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-193 name=__codelineno-1-193 href=#__codelineno-1-193></a><span class=w>  </span><span class=c1># For static content related to the theme, strip all backend cookies</span>
<a id=__codelineno-1-194 name=__codelineno-1-194 href=#__codelineno-1-194></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>req.url<span class=w> </span>~<span class=w> </span><span class=s2>&quot;&#39;.(css|js|png|gif|jp(e?)g)&quot;</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-195 name=__codelineno-1-195 href=#__codelineno-1-195></a><span class=w>    </span><span class=nb>unset</span><span class=w> </span>beresp.http.cookie<span class=p>;</span>
<a id=__codelineno-1-196 name=__codelineno-1-196 href=#__codelineno-1-196></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-197 name=__codelineno-1-197 href=#__codelineno-1-197></a>
<a id=__codelineno-1-198 name=__codelineno-1-198 href=#__codelineno-1-198></a><span class=w>  </span><span class=c1># A TTL of 30 minutes</span>
<a id=__codelineno-1-199 name=__codelineno-1-199 href=#__codelineno-1-199></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>beresp.ttl<span class=w> </span><span class=o>=</span><span class=w> </span>1800s<span class=p>;</span>
<a id=__codelineno-1-200 name=__codelineno-1-200 href=#__codelineno-1-200></a>
<a id=__codelineno-1-201 name=__codelineno-1-201 href=#__codelineno-1-201></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>deliver<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-202 name=__codelineno-1-202 href=#__codelineno-1-202></a><span class=o>}</span>
<a id=__codelineno-1-203 name=__codelineno-1-203 href=#__codelineno-1-203></a>
<a id=__codelineno-1-204 name=__codelineno-1-204 href=#__codelineno-1-204></a><span class=c1># The routine when we deliver the HTTP request to the user</span>
<a id=__codelineno-1-205 name=__codelineno-1-205 href=#__codelineno-1-205></a><span class=c1># Last chance to modify headers that are sent to the client</span>
<a id=__codelineno-1-206 name=__codelineno-1-206 href=#__codelineno-1-206></a>sub<span class=w> </span>vcl_deliver<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-207 name=__codelineno-1-207 href=#__codelineno-1-207></a>
<a id=__codelineno-1-208 name=__codelineno-1-208 href=#__codelineno-1-208></a><span class=w>  </span><span class=nb>set</span><span class=w> </span>resp.http.X-Served-By<span class=w> </span><span class=o>=</span><span class=w> </span>server.hostname<span class=p>;</span>
<a id=__codelineno-1-209 name=__codelineno-1-209 href=#__codelineno-1-209></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=o>(</span>obj.hits<span class=w> </span>&gt;<span class=w> </span><span class=m>0</span><span class=o>)</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-210 name=__codelineno-1-210 href=#__codelineno-1-210></a><span class=w>    </span><span class=nb>set</span><span class=w> </span>resp.http.X-Cache<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;HIT&quot;</span><span class=p>;</span>
<a id=__codelineno-1-211 name=__codelineno-1-211 href=#__codelineno-1-211></a><span class=w>    </span><span class=nb>set</span><span class=w> </span>resp.http.X-Cache-Hits<span class=w> </span><span class=o>=</span><span class=w> </span>obj.hits<span class=p>;</span>
<a id=__codelineno-1-212 name=__codelineno-1-212 href=#__codelineno-1-212></a><span class=w>  </span><span class=o>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-213 name=__codelineno-1-213 href=#__codelineno-1-213></a><span class=w>    </span><span class=nb>set</span><span class=w> </span>resp.http.X-Cache<span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;MISS&quot;</span><span class=p>;</span>
<a id=__codelineno-1-214 name=__codelineno-1-214 href=#__codelineno-1-214></a><span class=w>  </span><span class=o>}</span>
<a id=__codelineno-1-215 name=__codelineno-1-215 href=#__codelineno-1-215></a><span class=w>  </span><span class=nb>unset</span><span class=w> </span>resp.http.Via<span class=p>;</span>
<a id=__codelineno-1-216 name=__codelineno-1-216 href=#__codelineno-1-216></a><span class=w>  </span><span class=nb>unset</span><span class=w> </span>resp.http.X-Varnish<span class=p>;</span>
<a id=__codelineno-1-217 name=__codelineno-1-217 href=#__codelineno-1-217></a>
<a id=__codelineno-1-218 name=__codelineno-1-218 href=#__codelineno-1-218></a><span class=w>  </span><span class=c1># Remove some headers: PHP version</span>
<a id=__codelineno-1-219 name=__codelineno-1-219 href=#__codelineno-1-219></a><span class=w>  </span><span class=nb>unset</span><span class=w> </span>resp.http.X-Powered-By<span class=p>;</span>
<a id=__codelineno-1-220 name=__codelineno-1-220 href=#__codelineno-1-220></a>
<a id=__codelineno-1-221 name=__codelineno-1-221 href=#__codelineno-1-221></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>deliver<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-222 name=__codelineno-1-222 href=#__codelineno-1-222></a><span class=o>}</span>
<a id=__codelineno-1-223 name=__codelineno-1-223 href=#__codelineno-1-223></a>
<a id=__codelineno-1-224 name=__codelineno-1-224 href=#__codelineno-1-224></a>sub<span class=w> </span>vcl_init<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-225 name=__codelineno-1-225 href=#__codelineno-1-225></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>ok<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-226 name=__codelineno-1-226 href=#__codelineno-1-226></a><span class=o>}</span>
<a id=__codelineno-1-227 name=__codelineno-1-227 href=#__codelineno-1-227></a>
<a id=__codelineno-1-228 name=__codelineno-1-228 href=#__codelineno-1-228></a>sub<span class=w> </span>vcl_fini<span class=w> </span><span class=o>{</span>
<a id=__codelineno-1-229 name=__codelineno-1-229 href=#__codelineno-1-229></a><span class=w>  </span><span class=k>return</span><span class=w> </span><span class=o>(</span>ok<span class=o>)</span><span class=p>;</span>
<a id=__codelineno-1-230 name=__codelineno-1-230 href=#__codelineno-1-230></a><span class=o>}</span>
</code></pre></div> </details> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Dernière mise à jour"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">22 décembre 2024</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Créé> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">22 décembre 2024</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Retour en haut de la page </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> </div> <div class=md-social> <a href=https://twitter.com/Pixel__Art target=_blank rel=noopener title=twitter.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../../..", "features": ["toc.integrate", "header.autohide", "navigation.tracking", "navigation.instant", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top"], "search": "../../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}}</script> <script src=../../../../assets/javascripts/bundle.88dd0f4e.min.js></script> <script src=../../../../nodoc_custom/js/matomo.js></script> </body> </html>